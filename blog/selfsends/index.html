<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">

		<meta property="og:title" content="Darius Foo">
		<meta property="og:type" content="article">
		<meta property="og:url" content="https://dariusf.github.io">
		<meta property="og:image" content="https://dariusf.github.io/avatar.png">

		<title>Self-send projection</title>
		<meta name="description" content="PhD student, programming languages and formal verification">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Darius Foo">


		

		

		

		

		
		
		<style>@media (prefers-color-scheme: light) { /**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #9a6e3a;
	/* This background color was intended by the author of this theme. */
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function,
.token.class-name {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
 }
@media (prefers-color-scheme: dark) { /**
 * prism.js tomorrow night eighties for JavaScript, CoffeeScript, CSS and HTML
 * Based on https://github.com/chriskempson/tomorrow-theme
 * @author Rose Pritchard
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #ccc;
	background: none;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;

}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #2d2d2d;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #999;
}

.token.punctuation {
	color: #ccc;
}

.token.tag,
.token.attr-name,
.token.namespace,
.token.deleted {
	color: #e2777a;
}

.token.function-name {
	color: #6196cc;
}

.token.boolean,
.token.number,
.token.function {
	color: #f08d49;
}

.token.property,
.token.class-name,
.token.constant,
.token.symbol {
	color: #f8c555;
}

.token.selector,
.token.important,
.token.atrule,
.token.keyword,
.token.builtin {
	color: #cc99cd;
}

.token.string,
.token.char,
.token.attr-value,
.token.regex,
.token.variable {
	color: #7ec699;
}

.token.operator,
.token.entity,
.token.url {
	color: #67cdcc;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

.token.inserted {
	color: green;
}
 }
/* This is an arbitrary CSS string added to the bundle */
:root {
	/* --font-family: -apple-system, system-ui, sans-serif; */
	/* --font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
	*/

    --font-family-monospace: Fira Code, Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace;


  /*    --text-font: Crimson Text, serif;*/
  /*    --text-font: Poppins, Verdana, sans-serif;*/
  /*    --heading-font: Quicksand, sans-serif;*/
  /*    --text-font: Open Sans, sans-serif;*/
  /*    --text-font-size: 16px;*/
  /*    --heading-font: Open Sans, sans-serif;*/
  /*    --text-font: Cabin, sans-serif;*/
  /*    --text-font-size: 16px;*/
  /*    --text-font: Roboto, sans-serif;*/

  /*    --heading-font: Roboto, sans-serif;*/
  /*    --heading-font: Cabin, sans-serif;*/
  /*    --heading-font: Dosis, sans-serif;*/

  /*    --heading-font: Work Sans, sans-serif;*/
  /*    --text-font: Open Sans, sans-serif;*/

      /* --heading-font: Nunito, sans-serif; */
      --heading-font: ui-rounded, 'Hiragino Maru Gothic ProN', Quicksand, Comfortaa, Manjari, 'Arial Rounded MT', 'Arial Rounded MT Bold', Calibri, source-sans-pro, sans-serif;
  /*    --text-font: PT Sans, sans-serif;*/

  /*    --heading-font: Varela Round, sans-serif;*/
  /*    --text-font: Noto Serif, serif;*/

  /*    --text-font: Lato, sans-serif;*/
      --text-font-size: 17px;

  /*    --text-font: Merriweather, sans-serif;*/
  /*    --text-font-size: 16px;*/

  /* https://css-tricks.com/snippets/css/system-font-stack/ */
  /* https://systemfontstack.com/ */

    /* system font on all platforms */
  /*    --heading-font: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu;*/
      /* --text-font: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu; */
      --text-font: -apple-system, system-ui, sans-serif;
			/* system-ui, sans-serif; */


/* Theme colors */

	/* --color-gray-20: #e0e0e0;
	--color-gray-50: #C0C0C0;
	--color-gray-90: #333; */

	--background-color: #fff;

	/* --text-color: var(--color-gray-90); */
	/* --text-color-link: #082840; */

	/* --text-color-link: #ff0000; */
	/* --text-color-link-active: #5f2b48; */
	/* --text-color-link-visited: #17050F; */


	/* --syntax-tab-size: 2; */

	--bright-text-color: #222;
	--link-color: #3273dc;
	/* --link-color: #ff5e6c; */
	--link-visited-color: #6e4bbe;
	--background-color: #fff;
	--text-color: #444;
	--faded-text-color: #777;
	--blockquote-text-color: var(--bright-text-color);
	--faint-color: #ccc;
}

@media (prefers-color-scheme: dark) {
	:root {
		/* --color-gray-20: #e0e0e0; */
		/* --color-gray-50: #C0C0C0; */
		/* --color-gray-90: #dad8d8; */

		/* --text-color is assigned to --color-gray-_ above */
		/* --text-color-link: #1493fb; */
		/* --text-color-link-active: #6969f7; */
		/* --text-color-link-visited: #a6a6f8; */

		--background-color: #15202b;

		--bright-text-color: #eee;
		--link-color: #8cc2dd;
		--link-visited-color: #b9a9e0;
		--background-color: #333;
		--text-color: #ddd;
		--faded-text-color: #aaa;
		--slightly-dimmer-text-color: #ccc;
		--blockquote-text-color: var(--slightly-dimmer-text-color);
		--faint-color: #666;

		color-scheme: dark; /* sets scrollbar colour */
	}

	.theme-affected {
		filter: invert(.8);
	}
}

body {
	box-sizing: border-box;

	/* https://github.com/sindresorhus/github-markdown-css */
	min-width: 200px;
	/* max from old blog */
	/* max-width: 40em; */
	/* tiny bit wider because prism adds some padding */
	max-width: 726px;

	margin: 0 auto;
	padding: 0 20px;

	/* enable ligatures */
	text-rendering: optimizeLegibility;

	font-family: var(--text-font);
	font-size: var(--text-font-size);
	color: var(--text-color);
	background-color: var(--background-color);

	/*
	text-align: left;
	word-wrap: break-word;
	overflow-wrap: break-word;
	*/
	/* line-height: 1.5; */
}

@media (max-width: 767px) {
	body {
		padding: 0px 1em;
	}
}

@view-transition {
	navigation: auto;
}

html {
	overflow-y: scroll;
}

/* https://github.com/Kimeiga/bahunya/blob/master/src/parts/_typography.css */
ul, ol {
  padding-left: 2em;
}

li {
	line-height: 1.5;
}

h1, h2, h3, h4, h5, h6 {
	font-family: var(--heading-font);
	color: var(--bright-text-color);
	font-weight: normal;
	line-height: 1.25;
}

footer {
	padding: 35px;
}

/* header {
	border-bottom: 1px dashed var(--color-gray-20);
} */


/* misc changes from here on */

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

p:has(img) {
	text-align: center;
}
/* Fluid images via https://www.zachleat.com/web/fluid-images/ */
img{
  max-width: 100%;
}
img[width][height] {
  height: auto;
}
/* img[src$=".svg"] {
  width: 100%;
  height: auto;
  max-width: none;
} */
video,
iframe {
	width: 100%;
	height: auto;
}
iframe {
	aspect-ratio: 16/9;
}

p:last-child {
	margin-bottom: 0;
}
p {
	line-height: 1.5;
}

a[href] {
	color: var(--link-color);
	text-decoration: none;
}

/* a[href]:visited {
	color: var(--link-visited-color);
} */

/* a[href]:hover,
a[href]:active { */
	/* color: var(--text-color-link-active); */
	/* text-decoration: underline; */
	/* text-decoration-thickness: 2px; */
/* } */

/* main :first-child {
	margin-top: 0;
} */

/* .links-nextprev {
	display: flex;
	justify-content: space-between;
	gap: .5em 1em;
	list-style: "";
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}
.links-nextprev > * {
	flex-grow: 1;
}
.links-nextprev-next {
	text-align: right;
} */

table {
	margin: 1em 0;
	border-collapse: collapse;
}
table td,
table th {
	padding-right: 1em;
}
/* table thead tr th {
  border-bottom: solid var(--text-color) 2px;
  border-top: solid var(--text-color) 2px;
} */

.table-lines td {
  border-bottom: solid var(--text-color) 1px;
  border-top: solid var(--text-color) 1px;
}

/* pre,
code {
	font-family: var(--font-family-monospace) !important;
	font-size: 14px !important;
} */

/* override prism */
/* https://github.com/orgs/PrismJS/discussions/2859 */
code[class*="language-"],
pre[class*="language-"] {
	font-family: var(--font-family-monospace);
	font-size: 14px;
}

pre[class*="language-"] {
	margin-top: 0;
	margin-bottom: 1em;
}

pre:not([class*="language-"]) {
	margin: .5em 0;
	line-height: 1.375; /* 22px /16 */
	/* -moz-tab-size: var(--syntax-tab-size); */
	/* -o-tab-size: var(--syntax-tab-size); */
	/* tab-size: var(--syntax-tab-size); */
	-webkit-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	overflow-x: auto;
}

.scroll-when-overflowing, pre {
	overflow-x: scroll;
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scroll-when-overflowing::-webkit-scrollbar, pre::-webkit-scrollbar {
  display: none;
}

/* mathjax v4, where display math is not centered */
mjx-container {
	margin: auto;
}
header {
			/* display: flex; */
			/* gap: 2em; */
			border-right: 10px;
			/* flex-wrap: wrap; */
			/* justify-content: space-between; */
			/* align-items: center; */
			align-items: end;
			padding-top: 1em;
			/* padding: 1em; */
		}
.nav-item {
				font-family: var(--heading-font);
				padding-right: 5px;
				display: inline-block;
			}
			
			.nav-item a[href][aria-current="page"] {
				text-decoration: underline;
				text-decoration-thickness: 2px;
			}</style>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		

		<header>

			
			
			
			<a href="/" style="padding-right: 10px; color: var(--text-color); font-family: var(--heading-font); font-size: 1.5em;">Darius Foo</a>
			
				
				
				
				
				
				
			
			
			<nav style="display: inline-block">
				<h2 class="visually-hidden" id="top-level-navigation-menu">Top level navigation menu</h2>
				<ul style="list-style: none; padding: 0; margin: 0;">
					<li class="nav-item"><a href="/blog/">Blog</a></li>
					<li class="nav-item"><a href="/research/">Research</a></li>
					<li class="nav-item"><a href="/work/">Work</a></li>
					<li class="nav-item"><a href="/games/">Games</a></li>
				</ul>
			</nav>
		</header>

		<main id="skip">
			

<h1 style="margin-top: 1rem; margin-bottom: 0.2em" id="self-send-projection">Self-send projection</h1>



<div class="post-metadata">
	
	<time style="font-size: 0.9em;" datetime="2023-11-28">28 Nov 2023</time>
	
	
</div>

<div class="blog-content">
<div style="display:none">
<p><mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\m}[1]{\mathit{#1}}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\kwproj}{\mathbin{\upharpoonright}}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\gall}[3]{\forall #1 : #2 \cdot #3}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\galls}[4]{\forall #1 : #2 \setminus #3 \cdot #4}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\galle}[4]{\forall #1 : #2 \setminus \{#3\} \cdot #4}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\gtransmit}[3]{#1 \to #2:#3}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\kwpar}{\mathrel{||}}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\spar}[2]{#1 \kwpar #2}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\lsend}[2]{\m{send}\ #1\ #2}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\lrecv}[1]{\m{recv}\ #1}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\s}[1]{\{#1\}}"></g></g></svg></mjx-container>
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.033ex" height="0.033ex" role="img" focusable="false" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\newcommand{\sb}[1]{\textbf{\{}#1\textbf{\}}}"></g></g></svg></mjx-container></p>
</div>
<p><a href="https://wen.works/2020/12/17/an-introduction-to-session-types/">Session types</a> are a neat and fascinating formalism.
Intuitively, they are small languages for describing communication protocols.
Viewing these protocols as types, a type system may be used to check that a program implements a protocol correctly and has other nice properties, such as deadlock-freedom.
Unlike types which constrain data, session types are <em>behavioral</em> specifications and constrain what <em>programs</em> can <em>do</em>.</p>
<p><em>Multiparty session types</em> concern more than two communicating parties and are usually written in <a href="https://en.wikipedia.org/wiki/Security_protocol_notation">&quot;Alice &amp; Bob notation&quot;</a>, specifying a protocol from a so-called <em>global</em> perspective.</p>
<p>Here's the syntax of a tiny MPST language.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.445ex;" xmlns="http://www.w3.org/2000/svg" width="19.232ex" height="1.933ex" role="img" focusable="false" viewBox="0 -713 9212.3 926" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-6-STX-I-1D43A" d="M684 309L444 309L438 278C514 278 522 264 507 192L486 83C442 53 398 33 337 33C215 33 163 110 163 258C164 488 297 627 450 627C553 627 610 573 606 440L639 440L685 669L657 669C641 647 631 633 616 633C590 633 565 670 459 670C259 670 62 523 62 234C62 106 121-11 313-11C419-11 486 15 567 57L597 202C609 264 622 278 679 278Z"></path><path id="MJX-6-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-6-STX-N-3D" d="M658 327L658 395L62 395L62 327M658 123L658 190L62 190L62 123Z"></path><path id="MJX-6-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path><path id="MJX-6-STX-N-2192" d="M876 264C778 305 700 382 634 459L613 439C636 405 667 369 697 341C707 331 711 324 711 315C711 305 695 293 685 293L71 293L71 225L684 225C702 225 710 215 710 205C710 196 705 185 696 176C665 144 636 111 612 78L633 58C700 136 778 212 876 254Z"></path><path id="MJX-6-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path><path id="MJX-6-STX-I-1D45A" d="M403 0L435 138C472 228 587 407 649 407C672 407 679 390 679 367C679 346 670 308 663 282L612 88C611 83 607 65 607 49C607 19 622-10 673-10C744-10 784 60 810 97L790 112C774 93 750 60 715 60C702 60 696 68 696 79C696 91 699 103 699 103L754 334C757 348 764 382 764 408C764 444 750 479 700 479C596 479 514 346 471 270L463 270L480 334C481 339 489 379 489 408C489 444 476 479 426 479C312 479 227 338 185 259L177 259L227 476L204 476L66 465L66 438C66 438 85 440 98 440C122 440 130 430 130 413C130 398 127 380 127 380L47 0L129 0L160 137C210 250 309 407 375 407C398 407 405 390 405 367C405 351 400 328 399 325C375 215 349 107 320 0Z"></path><path id="MJX-6-STX-N-A0" d=""></path><path id="MJX-6-STX-N-7C" d="M162-220L162 706L105 706L105-220Z"></path><path id="MJX-6-STX-N-3B" d="M70-132C110-114 194-80 194 33C194 88 167 121 117 121C77 121 55 94 55 62C55 33 71 8 110 8C121 8 130 10 141 14C141-67 95-91 58-107M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="G ::= a \to b: m\ |\ G; G
"><g data-mml-node="mi" data-latex="G"><use data-c="1D43A" xlink:href="#MJX-6-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="::=" transform="translate(974.8,0)"><g data-mml-node="text"><use data-c="3A" xlink:href="#MJX-6-STX-N-3A"></use></g><g data-mml-node="text" transform="translate(245,0)"><use data-c="3A" xlink:href="#MJX-6-STX-N-3A"></use></g><g data-mml-node="text" transform="translate(490,0)"><use data-c="3D" xlink:href="#MJX-6-STX-N-3D"></use></g></g><g data-mml-node="mi" data-latex="a" transform="translate(2462.6,0)"><use data-c="1D44E" xlink:href="#MJX-6-STX-I-1D44E"></use></g><g data-mml-node="mo" data-latex="\to" transform="translate(3295.3,0)"><use data-c="2192" xlink:href="#MJX-6-STX-N-2192"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(4521.1,0)"><use data-c="1D44F" xlink:href="#MJX-6-STX-I-1D44F"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(5316.9,0)"><use data-c="3A" xlink:href="#MJX-6-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="m" transform="translate(5839.7,0)"><use data-c="1D45A" xlink:href="#MJX-6-STX-I-1D45A"></use></g><g data-mml-node="mtext" transform="translate(6669.7,0)"><use data-c="A0" xlink:href="#MJX-6-STX-N-A0"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(6904.7,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-6-STX-N-7C"></use></g><g data-mml-node="mtext" transform="translate(7171.7,0)"><use data-c="A0" xlink:href="#MJX-6-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(7406.7,0)"><use data-c="1D43A" xlink:href="#MJX-6-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex=";" transform="translate(8103.7,0)"><use data-c="3B" xlink:href="#MJX-6-STX-N-3B"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(8515.3,0)"><use data-c="1D43A" xlink:href="#MJX-6-STX-I-1D43A"></use></g></g></g></svg></mjx-container></div><p>We can write a type such as</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -3.027ex;" xmlns="http://www.w3.org/2000/svg" width="9.295ex" height="4.593ex" role="img" focusable="false" viewBox="0 -750 4452.1 2200" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-7-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path><path id="MJX-7-STX-N-2192" d="M876 264C778 305 700 382 634 459L613 439C636 405 667 369 697 341C707 331 711 324 711 315C711 305 695 293 685 293L71 293L71 225L684 225C702 225 710 215 710 205C710 196 705 185 696 176C665 144 636 111 612 78L633 58C700 136 778 212 876 254Z"></path><path id="MJX-7-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path><path id="MJX-7-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-7-STX-I-1D45A" d="M403 0L435 138C472 228 587 407 649 407C672 407 679 390 679 367C679 346 670 308 663 282L612 88C611 83 607 65 607 49C607 19 622-10 673-10C744-10 784 60 810 97L790 112C774 93 750 60 715 60C702 60 696 68 696 79C696 91 699 103 699 103L754 334C757 348 764 382 764 408C764 444 750 479 700 479C596 479 514 346 471 270L463 270L480 334C481 339 489 379 489 408C489 444 476 479 426 479C312 479 227 338 185 259L177 259L227 476L204 476L66 465L66 438C66 438 85 440 98 440C122 440 130 430 130 413C130 398 127 380 127 380L47 0L129 0L160 137C210 250 309 407 375 407C398 407 405 390 405 367C405 351 400 328 399 325C375 215 349 107 320 0Z"></path><path id="MJX-7-STX-N-3B" d="M70-132C110-114 194-80 194 33C194 88 167 121 117 121C77 121 55 94 55 62C55 33 71 8 110 8C121 8 130 10 141 14C141-67 95-91 58-107M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-7-STX-N-A0" d=""></path><path id="MJX-7-STX-I-1D45B" d="M521 112C506 93 481 60 447 60C433 60 428 68 428 79C428 91 430 103 430 103L487 334C490 348 496 382 496 408C496 444 481 479 430 479C312 479 227 334 185 259L177 259L227 476L205 476L66 465L66 438C66 438 86 440 99 440C122 440 131 430 131 413C131 398 128 380 128 380L47 0L129 0L165 158C197 227 307 407 380 407C403 407 410 390 410 367C410 347 403 319 403 319L344 88C343 83 339 65 339 49C339 19 354-10 404-10C476-10 516 60 542 97Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="a \to b: m; \\\ b \to a: n
"><g data-mjx-linestack="true"><g data-mjx-linebox="true" data-mjx-lineno="0"><g data-mml-node="mi" data-latex="a"><use data-c="1D44E" xlink:href="#MJX-7-STX-I-1D44E"></use></g><g data-mml-node="mo" data-latex="\to" transform="translate(832.8,0)"><use data-c="2192" xlink:href="#MJX-7-STX-N-2192"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(2058.6,0)"><use data-c="1D44F" xlink:href="#MJX-7-STX-I-1D44F"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(2854.3,0)"><use data-c="3A" xlink:href="#MJX-7-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="m" transform="translate(3377.1,0)"><use data-c="1D45A" xlink:href="#MJX-7-STX-I-1D45A"></use></g><g data-mml-node="mo" data-latex=";" transform="translate(4207.1,0)"><use data-c="3B" xlink:href="#MJX-7-STX-N-3B"></use></g><g data-mml-node="mspace" data-latex="\\" transform="translate(4452.1,0)"></g></g><g data-mjx-linebox="true" data-mjx-lineno="1" transform="translate(137.5,-1200)"><g data-mml-node="mspace" data-latex="\\"></g><g data-mml-node="mtext"><use data-c="A0" xlink:href="#MJX-7-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(235,0)"><use data-c="1D44F" xlink:href="#MJX-7-STX-I-1D44F"></use></g><g data-mml-node="mo" data-latex="\to" transform="translate(1030.8,0)"><use data-c="2192" xlink:href="#MJX-7-STX-N-2192"></use></g><g data-mml-node="mi" data-latex="a" transform="translate(2256.6,0)"><use data-c="1D44E" xlink:href="#MJX-7-STX-I-1D44E"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(3089.3,0)"><use data-c="3A" xlink:href="#MJX-7-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="n" transform="translate(3612.1,0)"><use data-c="1D45B" xlink:href="#MJX-7-STX-I-1D45B"></use></g></g></g></g></g></svg></mjx-container></div><p>which specifies a protocol where party <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.159ex" height="1.025ex" role="img" focusable="false" viewBox="0 -479 555 491" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-34-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="a"><g data-mml-node="mi" data-latex="a"><use data-c="1D44E" xlink:href="#MJX-34-STX-I-1D44E"></use></g></g></g></svg></mjx-container> sends the message <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.733ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 830 489" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-35-STX-I-1D45A" d="M403 0L435 138C472 228 587 407 649 407C672 407 679 390 679 367C679 346 670 308 663 282L612 88C611 83 607 65 607 49C607 19 622-10 673-10C744-10 784 60 810 97L790 112C774 93 750 60 715 60C702 60 696 68 696 79C696 91 699 103 699 103L754 334C757 348 764 382 764 408C764 444 750 479 700 479C596 479 514 346 471 270L463 270L480 334C481 339 489 379 489 408C489 444 476 479 426 479C312 479 227 338 185 259L177 259L227 476L204 476L66 465L66 438C66 438 85 440 98 440C122 440 130 430 130 413C130 398 127 380 127 380L47 0L129 0L160 137C210 250 309 407 375 407C398 407 405 390 405 367C405 351 400 328 399 325C375 215 349 107 320 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="m"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-35-STX-I-1D45A"></use></g></g></g></svg></mjx-container> to party <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.081ex" height="1.497ex" role="img" focusable="false" viewBox="0 -705 518 717" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-36-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="b"><g data-mml-node="mi" data-latex="b"><use data-c="1D44F" xlink:href="#MJX-36-STX-I-1D44F"></use></g></g></g></svg></mjx-container>, and <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.081ex" height="1.497ex" role="img" focusable="false" viewBox="0 -705 518 717" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-37-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="b"><g data-mml-node="mi" data-latex="b"><use data-c="1D44F" xlink:href="#MJX-37-STX-I-1D44F"></use></g></g></g></svg></mjx-container> <em>then</em> replies with message <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.18ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 565 489" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-38-STX-I-1D45B" d="M521 112C506 93 481 60 447 60C433 60 428 68 428 79C428 91 430 103 430 103L487 334C490 348 496 382 496 408C496 444 481 479 430 479C312 479 227 334 185 259L177 259L227 476L205 476L66 465L66 438C66 438 86 440 99 440C122 440 131 430 131 413C131 398 128 380 128 380L47 0L129 0L165 158C197 227 307 407 380 407C403 407 410 390 410 367C410 347 403 319 403 319L344 88C343 83 339 65 339 49C339 19 354-10 404-10C476-10 516 60 542 97Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="n"><g data-mml-node="mi" data-latex="n"><use data-c="1D45B" xlink:href="#MJX-38-STX-I-1D45B"></use></g></g></g></svg></mjx-container>.</p>
<p>Say we have a program that implements party <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.159ex" height="1.025ex" role="img" focusable="false" viewBox="0 -479 555 491" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-39-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="a"><g data-mml-node="mi" data-latex="a"><use data-c="1D44E" xlink:href="#MJX-39-STX-I-1D44E"></use></g></g></g></svg></mjx-container>, and we want to check it against the protocol.</p>
<pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Send</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token function">Receive</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>One approach is to split the global type into two <em>local</em> halves, then check the program against the half for <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.159ex" height="1.025ex" role="img" focusable="false" viewBox="0 -479 555 491" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-40-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="a"><g data-mml-node="mi" data-latex="a"><use data-c="1D44E" xlink:href="#MJX-40-STX-I-1D44E"></use></g></g></g></svg></mjx-container>.
This splitting operation is called <em>projection</em> because we are keeping only a slice or subpart of the behavior of the overall system, or some subsequences of its execution traces, etc.</p>
<p>Here is a tiny language of local types.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.445ex;" xmlns="http://www.w3.org/2000/svg" width="29.489ex" height="1.933ex" role="img" focusable="false" viewBox="0 -713 14125.2 926" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-8-STX-I-1D43F" d="M541 195L509 195C447 79 426 38 299 38L252 38C193 38 178 48 187 92L278 540C293 612 325 627 397 627L402 657L118 657L112 627C198 627 203 607 189 541L103 124C86 44 70 30-7 30L-13 0L481 0Z"></path><path id="MJX-8-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-8-STX-N-3D" d="M658 327L658 395L62 395L62 327M658 123L658 190L62 190L62 123Z"></path><path id="MJX-8-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-8-STX-N-6D" d="M185 357C214 384 258 421 310 421C356 421 390 399 390 314L390 116C390 46 384 29 313 29L313 0L550 0L550 29C478 29 473 47 473 116L473 359C506 387 547 421 588 421C635 421 674 399 674 308L674 116C674 55 671 29 603 29L603 0L829 0L829 29C760 29 757 53 757 116L757 320C757 441 706 485 628 485C575 485 524 456 469 402L465 402C445 450 411 485 354 485C286 485 240 448 186 401L182 401L182 482L158 482L33 453L33 424C33 424 45 426 60 426C88 426 102 417 102 381L102 101C102 41 95 29 32 29L32 0L260 0L260 29C198 29 185 41 185 97Z"></path><path id="MJX-8-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path><path id="MJX-8-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-8-STX-I-1D45B" d="M521 112C506 93 481 60 447 60C433 60 428 68 428 79C428 91 430 103 430 103L487 334C490 348 496 382 496 408C496 444 481 479 430 479C312 479 227 334 185 259L177 259L227 476L205 476L66 465L66 438C66 438 86 440 99 440C122 440 131 430 131 413C131 398 128 380 128 380L47 0L129 0L165 158C197 227 307 407 380 407C403 407 410 390 410 367C410 347 403 319 403 319L344 88C343 83 339 65 339 49C339 19 354-10 404-10C476-10 516 60 542 97Z"></path><path id="MJX-8-STX-I-1D451" d="M529 705L507 705L371 694L371 668C371 668 390 670 402 670C432 670 437 656 437 639C437 625 434 607 434 607L401 439L398 439C374 464 341 479 296 479C157 479 37 340 37 162C37 45 89-12 163-12C222-12 279 24 329 85L337 85C335 73 332 54 332 42C332 11 353-10 393-10C462-10 499 53 530 97L510 112C496 93 469 60 437 60C424 60 418 65 418 79C418 92 423 121 423 121M346 177C319 101 274 54 206 54C157 54 126 78 126 169C126 299 190 441 291 441C349 441 377 394 377 351C377 333 372 252 346 177Z"></path><path id="MJX-8-STX-N-A0" d=""></path><path id="MJX-8-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path><path id="MJX-8-STX-I-1D45A" d="M403 0L435 138C472 228 587 407 649 407C672 407 679 390 679 367C679 346 670 308 663 282L612 88C611 83 607 65 607 49C607 19 622-10 673-10C744-10 784 60 810 97L790 112C774 93 750 60 715 60C702 60 696 68 696 79C696 91 699 103 699 103L754 334C757 348 764 382 764 408C764 444 750 479 700 479C596 479 514 346 471 270L463 270L480 334C481 339 489 379 489 408C489 444 476 479 426 479C312 479 227 338 185 259L177 259L227 476L204 476L66 465L66 438C66 438 85 440 98 440C122 440 130 430 130 413C130 398 127 380 127 380L47 0L129 0L160 137C210 250 309 407 375 407C398 407 405 390 405 367C405 351 400 328 399 325C375 215 349 107 320 0Z"></path><path id="MJX-8-STX-N-7C" d="M162-220L162 706L105 706L105-220Z"></path><path id="MJX-8-STX-I-1D45F" d="M161 259L212 476L190 476L51 465L51 438C51 438 71 440 82 440C110 440 115 429 115 410C115 392 110 366 106 348L32 0L117 0L147 140C163 180 253 395 301 395C304 395 314 358 346 358C372 358 399 377 399 421C399 460 375 479 343 479C263 479 203 326 171 259Z"></path><path id="MJX-8-STX-I-1D450" d="M358 123C327 85 288 57 219 57C161 57 109 77 109 184C109 300 170 446 280 446C312 446 329 434 329 419C329 403 310 375 310 349C310 327 324 314 348 314C385 314 404 346 404 386C404 451 353 479 290 479C146 479 26 335 26 169C26 68 71-12 179-12C269-12 334 44 375 108Z"></path><path id="MJX-8-STX-I-1D463" d="M200 476L53 465L53 437C53 437 83 440 99 440C117 440 123 426 123 409C123 389 116 365 113 354L93 278C82 236 71 183 71 135C71 58 100-9 200-9C380-9 479 206 479 358C479 429 448 479 403 479C382 479 365 464 365 437C365 393 426 369 426 299C426 206 368 55 231 55C170 55 153 99 153 151C153 196 166 249 175 284L222 476Z"></path><path id="MJX-8-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path><path id="MJX-8-STX-N-3B" d="M70-132C110-114 194-80 194 33C194 88 167 121 117 121C77 121 55 94 55 62C55 33 71 8 110 8C121 8 130 10 141 14C141-67 95-91 58-107M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="L ::= \m{send}\ a\ m\ |\ \m{recv}\ b\ |\ L; L
"><g data-mml-node="mi" data-latex="L"><use data-c="1D43F" xlink:href="#MJX-8-STX-I-1D43F"></use></g><g data-mml-node="mo" data-latex="::=" transform="translate(846.8,0)"><g data-mml-node="text"><use data-c="3A" xlink:href="#MJX-8-STX-N-3A"></use></g><g data-mml-node="text" transform="translate(245,0)"><use data-c="3A" xlink:href="#MJX-8-STX-N-3A"></use></g><g data-mml-node="text" transform="translate(490,0)"><use data-c="3D" xlink:href="#MJX-8-STX-N-3D"></use></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(2334.6,0)"><use data-c="5C" xlink:href="#MJX-8-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-8-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{s e n d}" data-mjx-texclass="ORD" transform="translate(3571.6,0)"><g data-mml-node="mi" data-latex="s"><use data-c="1D460" xlink:href="#MJX-8-STX-I-1D460"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(386,0)"><use data-c="1D452" xlink:href="#MJX-8-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="n" transform="translate(810,0)"><use data-c="1D45B" xlink:href="#MJX-8-STX-I-1D45B"></use></g><g data-mml-node="mi" data-latex="d" transform="translate(1375,0)"><use data-c="1D451" xlink:href="#MJX-8-STX-I-1D451"></use></g></g><g data-mml-node="mtext" transform="translate(5502.6,0)"><use data-c="A0" xlink:href="#MJX-8-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="a" transform="translate(5737.6,0)"><use data-c="1D44E" xlink:href="#MJX-8-STX-I-1D44E"></use></g><g data-mml-node="mtext" transform="translate(6292.6,0)"><use data-c="A0" xlink:href="#MJX-8-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="m" transform="translate(6527.6,0)"><use data-c="1D45A" xlink:href="#MJX-8-STX-I-1D45A"></use></g><g data-mml-node="mtext" transform="translate(7357.6,0)"><use data-c="A0" xlink:href="#MJX-8-STX-N-A0"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(7592.6,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-8-STX-N-7C"></use></g><g data-mml-node="mtext" transform="translate(7859.6,0)"><use data-c="A0" xlink:href="#MJX-8-STX-N-A0"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(8094.6,0)"><use data-c="5C" xlink:href="#MJX-8-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-8-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{r e c v}" data-mjx-texclass="ORD" transform="translate(9331.6,0)"><g data-mml-node="mi" data-latex="r"><use data-c="1D45F" xlink:href="#MJX-8-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(412,0)"><use data-c="1D452" xlink:href="#MJX-8-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="c" transform="translate(836,0)"><use data-c="1D450" xlink:href="#MJX-8-STX-I-1D450"></use></g><g data-mml-node="mi" data-latex="v" transform="translate(1250,0)"><use data-c="1D463" xlink:href="#MJX-8-STX-I-1D463"></use></g></g><g data-mml-node="mtext" transform="translate(11085.6,0)"><use data-c="A0" xlink:href="#MJX-8-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(11320.6,0)"><use data-c="1D44F" xlink:href="#MJX-8-STX-I-1D44F"></use></g><g data-mml-node="mtext" transform="translate(11838.6,0)"><use data-c="A0" xlink:href="#MJX-8-STX-N-A0"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(12073.6,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-8-STX-N-7C"></use></g><g data-mml-node="mtext" transform="translate(12340.6,0)"><use data-c="A0" xlink:href="#MJX-8-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="L" transform="translate(12575.6,0)"><use data-c="1D43F" xlink:href="#MJX-8-STX-I-1D43F"></use></g><g data-mml-node="mo" data-latex=";" transform="translate(13144.6,0)"><use data-c="3B" xlink:href="#MJX-8-STX-N-3B"></use></g><g data-mml-node="mi" data-latex="L" transform="translate(13556.2,0)"><use data-c="1D43F" xlink:href="#MJX-8-STX-I-1D43F"></use></g></g></g></svg></mjx-container></div><p>The projections for <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.159ex" height="1.025ex" role="img" focusable="false" viewBox="0 -479 555 491" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-41-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="a"><g data-mml-node="mi" data-latex="a"><use data-c="1D44E" xlink:href="#MJX-41-STX-I-1D44E"></use></g></g></g></svg></mjx-container> and <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.081ex" height="1.497ex" role="img" focusable="false" viewBox="0 -705 518 717" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-42-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="b"><g data-mml-node="mi" data-latex="b"><use data-c="1D44F" xlink:href="#MJX-42-STX-I-1D44F"></use></g></g></g></svg></mjx-container> would be:</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.331ex;" xmlns="http://www.w3.org/2000/svg" width="22.937ex" height="1.811ex" role="img" focusable="false" viewBox="0 -709 10986.7 867.5" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-9-STX-I-1D43F" d="M541 195L509 195C447 79 426 38 299 38L252 38C193 38 178 48 187 92L278 540C293 612 325 627 397 627L402 657L118 657L112 627C198 627 203 607 189 541L103 124C86 44 70 30-7 30L-13 0L481 0Z"></path><path id="MJX-9-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path><path id="MJX-9-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-9-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-9-STX-N-6D" d="M185 357C214 384 258 421 310 421C356 421 390 399 390 314L390 116C390 46 384 29 313 29L313 0L550 0L550 29C478 29 473 47 473 116L473 359C506 387 547 421 588 421C635 421 674 399 674 308L674 116C674 55 671 29 603 29L603 0L829 0L829 29C760 29 757 53 757 116L757 320C757 441 706 485 628 485C575 485 524 456 469 402L465 402C445 450 411 485 354 485C286 485 240 448 186 401L182 401L182 482L158 482L33 453L33 424C33 424 45 426 60 426C88 426 102 417 102 381L102 101C102 41 95 29 32 29L32 0L260 0L260 29C198 29 185 41 185 97Z"></path><path id="MJX-9-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path><path id="MJX-9-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-9-STX-I-1D45B" d="M521 112C506 93 481 60 447 60C433 60 428 68 428 79C428 91 430 103 430 103L487 334C490 348 496 382 496 408C496 444 481 479 430 479C312 479 227 334 185 259L177 259L227 476L205 476L66 465L66 438C66 438 86 440 99 440C122 440 131 430 131 413C131 398 128 380 128 380L47 0L129 0L165 158C197 227 307 407 380 407C403 407 410 390 410 367C410 347 403 319 403 319L344 88C343 83 339 65 339 49C339 19 354-10 404-10C476-10 516 60 542 97Z"></path><path id="MJX-9-STX-I-1D451" d="M529 705L507 705L371 694L371 668C371 668 390 670 402 670C432 670 437 656 437 639C437 625 434 607 434 607L401 439L398 439C374 464 341 479 296 479C157 479 37 340 37 162C37 45 89-12 163-12C222-12 279 24 329 85L337 85C335 73 332 54 332 42C332 11 353-10 393-10C462-10 499 53 530 97L510 112C496 93 469 60 437 60C424 60 418 65 418 79C418 92 423 121 423 121M346 177C319 101 274 54 206 54C157 54 126 78 126 169C126 299 190 441 291 441C349 441 377 394 377 351C377 333 372 252 346 177Z"></path><path id="MJX-9-STX-N-A0" d=""></path><path id="MJX-9-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path><path id="MJX-9-STX-I-1D45A" d="M403 0L435 138C472 228 587 407 649 407C672 407 679 390 679 367C679 346 670 308 663 282L612 88C611 83 607 65 607 49C607 19 622-10 673-10C744-10 784 60 810 97L790 112C774 93 750 60 715 60C702 60 696 68 696 79C696 91 699 103 699 103L754 334C757 348 764 382 764 408C764 444 750 479 700 479C596 479 514 346 471 270L463 270L480 334C481 339 489 379 489 408C489 444 476 479 426 479C312 479 227 338 185 259L177 259L227 476L204 476L66 465L66 438C66 438 85 440 98 440C122 440 130 430 130 413C130 398 127 380 127 380L47 0L129 0L160 137C210 250 309 407 375 407C398 407 405 390 405 367C405 351 400 328 399 325C375 215 349 107 320 0Z"></path><path id="MJX-9-STX-N-3B" d="M70-132C110-114 194-80 194 33C194 88 167 121 117 121C77 121 55 94 55 62C55 33 71 8 110 8C121 8 130 10 141 14C141-67 95-91 58-107M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-9-STX-I-1D45F" d="M161 259L212 476L190 476L51 465L51 438C51 438 71 440 82 440C110 440 115 429 115 410C115 392 110 366 106 348L32 0L117 0L147 140C163 180 253 395 301 395C304 395 314 358 346 358C372 358 399 377 399 421C399 460 375 479 343 479C263 479 203 326 171 259Z"></path><path id="MJX-9-STX-I-1D450" d="M358 123C327 85 288 57 219 57C161 57 109 77 109 184C109 300 170 446 280 446C312 446 329 434 329 419C329 403 310 375 310 349C310 327 324 314 348 314C385 314 404 346 404 386C404 451 353 479 290 479C146 479 26 335 26 169C26 68 71-12 179-12C269-12 334 44 375 108Z"></path><path id="MJX-9-STX-I-1D463" d="M200 476L53 465L53 437C53 437 83 440 99 440C117 440 123 426 123 409C123 389 116 365 113 354L93 278C82 236 71 183 71 135C71 58 100-9 200-9C380-9 479 206 479 358C479 429 448 479 403 479C382 479 365 464 365 437C365 393 426 369 426 299C426 206 368 55 231 55C170 55 153 99 153 151C153 196 166 249 175 284L222 476Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="L_a : \m{send}\ b\ m; \m{recv}\ b
"><g data-mml-node="msub" data-latex="L_a"><g data-mml-node="mi" data-latex="L"><use data-c="1D43F" xlink:href="#MJX-9-STX-I-1D43F"></use></g><g data-mml-node="mi" transform="translate(602,-150) scale(0.707)" data-latex="a"><use data-c="1D44E" xlink:href="#MJX-9-STX-I-1D44E"></use></g></g><g data-mml-node="mo" data-latex=":" transform="translate(1322.2,0)"><use data-c="3A" xlink:href="#MJX-9-STX-N-3A"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(1845,0)"><use data-c="5C" xlink:href="#MJX-9-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-9-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{s e n d}" data-mjx-texclass="ORD" transform="translate(3082,0)"><g data-mml-node="mi" data-latex="s"><use data-c="1D460" xlink:href="#MJX-9-STX-I-1D460"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(386,0)"><use data-c="1D452" xlink:href="#MJX-9-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="n" transform="translate(810,0)"><use data-c="1D45B" xlink:href="#MJX-9-STX-I-1D45B"></use></g><g data-mml-node="mi" data-latex="d" transform="translate(1375,0)"><use data-c="1D451" xlink:href="#MJX-9-STX-I-1D451"></use></g></g><g data-mml-node="mtext" transform="translate(5013,0)"><use data-c="A0" xlink:href="#MJX-9-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(5248,0)"><use data-c="1D44F" xlink:href="#MJX-9-STX-I-1D44F"></use></g><g data-mml-node="mtext" transform="translate(5766,0)"><use data-c="A0" xlink:href="#MJX-9-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="m" transform="translate(6001,0)"><use data-c="1D45A" xlink:href="#MJX-9-STX-I-1D45A"></use></g><g data-mml-node="mo" data-latex=";" transform="translate(6831,0)"><use data-c="3B" xlink:href="#MJX-9-STX-N-3B"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(7242.7,0)"><use data-c="5C" xlink:href="#MJX-9-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-9-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{r e c v}" data-mjx-texclass="ORD" transform="translate(8479.7,0)"><g data-mml-node="mi" data-latex="r"><use data-c="1D45F" xlink:href="#MJX-9-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(412,0)"><use data-c="1D452" xlink:href="#MJX-9-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="c" transform="translate(836,0)"><use data-c="1D450" xlink:href="#MJX-9-STX-I-1D450"></use></g><g data-mml-node="mi" data-latex="v" transform="translate(1250,0)"><use data-c="1D463" xlink:href="#MJX-9-STX-I-1D463"></use></g></g><g data-mml-node="mtext" transform="translate(10233.7,0)"><use data-c="A0" xlink:href="#MJX-9-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(10468.7,0)"><use data-c="1D44F" xlink:href="#MJX-9-STX-I-1D44F"></use></g></g></g></svg></mjx-container></div><div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.331ex;" xmlns="http://www.w3.org/2000/svg" width="22.483ex" height="1.811ex" role="img" focusable="false" viewBox="0 -709 10769.5 867.5" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-10-STX-I-1D43F" d="M541 195L509 195C447 79 426 38 299 38L252 38C193 38 178 48 187 92L278 540C293 612 325 627 397 627L402 657L118 657L112 627C198 627 203 607 189 541L103 124C86 44 70 30-7 30L-13 0L481 0Z"></path><path id="MJX-10-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path><path id="MJX-10-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-10-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-10-STX-N-6D" d="M185 357C214 384 258 421 310 421C356 421 390 399 390 314L390 116C390 46 384 29 313 29L313 0L550 0L550 29C478 29 473 47 473 116L473 359C506 387 547 421 588 421C635 421 674 399 674 308L674 116C674 55 671 29 603 29L603 0L829 0L829 29C760 29 757 53 757 116L757 320C757 441 706 485 628 485C575 485 524 456 469 402L465 402C445 450 411 485 354 485C286 485 240 448 186 401L182 401L182 482L158 482L33 453L33 424C33 424 45 426 60 426C88 426 102 417 102 381L102 101C102 41 95 29 32 29L32 0L260 0L260 29C198 29 185 41 185 97Z"></path><path id="MJX-10-STX-I-1D45F" d="M161 259L212 476L190 476L51 465L51 438C51 438 71 440 82 440C110 440 115 429 115 410C115 392 110 366 106 348L32 0L117 0L147 140C163 180 253 395 301 395C304 395 314 358 346 358C372 358 399 377 399 421C399 460 375 479 343 479C263 479 203 326 171 259Z"></path><path id="MJX-10-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-10-STX-I-1D450" d="M358 123C327 85 288 57 219 57C161 57 109 77 109 184C109 300 170 446 280 446C312 446 329 434 329 419C329 403 310 375 310 349C310 327 324 314 348 314C385 314 404 346 404 386C404 451 353 479 290 479C146 479 26 335 26 169C26 68 71-12 179-12C269-12 334 44 375 108Z"></path><path id="MJX-10-STX-I-1D463" d="M200 476L53 465L53 437C53 437 83 440 99 440C117 440 123 426 123 409C123 389 116 365 113 354L93 278C82 236 71 183 71 135C71 58 100-9 200-9C380-9 479 206 479 358C479 429 448 479 403 479C382 479 365 464 365 437C365 393 426 369 426 299C426 206 368 55 231 55C170 55 153 99 153 151C153 196 166 249 175 284L222 476Z"></path><path id="MJX-10-STX-N-A0" d=""></path><path id="MJX-10-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path><path id="MJX-10-STX-N-3B" d="M70-132C110-114 194-80 194 33C194 88 167 121 117 121C77 121 55 94 55 62C55 33 71 8 110 8C121 8 130 10 141 14C141-67 95-91 58-107M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-10-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path><path id="MJX-10-STX-I-1D45B" d="M521 112C506 93 481 60 447 60C433 60 428 68 428 79C428 91 430 103 430 103L487 334C490 348 496 382 496 408C496 444 481 479 430 479C312 479 227 334 185 259L177 259L227 476L205 476L66 465L66 438C66 438 86 440 99 440C122 440 131 430 131 413C131 398 128 380 128 380L47 0L129 0L165 158C197 227 307 407 380 407C403 407 410 390 410 367C410 347 403 319 403 319L344 88C343 83 339 65 339 49C339 19 354-10 404-10C476-10 516 60 542 97Z"></path><path id="MJX-10-STX-I-1D451" d="M529 705L507 705L371 694L371 668C371 668 390 670 402 670C432 670 437 656 437 639C437 625 434 607 434 607L401 439L398 439C374 464 341 479 296 479C157 479 37 340 37 162C37 45 89-12 163-12C222-12 279 24 329 85L337 85C335 73 332 54 332 42C332 11 353-10 393-10C462-10 499 53 530 97L510 112C496 93 469 60 437 60C424 60 418 65 418 79C418 92 423 121 423 121M346 177C319 101 274 54 206 54C157 54 126 78 126 169C126 299 190 441 291 441C349 441 377 394 377 351C377 333 372 252 346 177Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="L_b : \m{recv}\ a; \m{send}\ a\ n
"><g data-mml-node="msub" data-latex="L_b"><g data-mml-node="mi" data-latex="L"><use data-c="1D43F" xlink:href="#MJX-10-STX-I-1D43F"></use></g><g data-mml-node="mi" transform="translate(602,-150) scale(0.707)" data-latex="b"><use data-c="1D44F" xlink:href="#MJX-10-STX-I-1D44F"></use></g></g><g data-mml-node="mo" data-latex=":" transform="translate(1296.1,0)"><use data-c="3A" xlink:href="#MJX-10-STX-N-3A"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(1818.8,0)"><use data-c="5C" xlink:href="#MJX-10-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-10-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{r e c v}" data-mjx-texclass="ORD" transform="translate(3055.8,0)"><g data-mml-node="mi" data-latex="r"><use data-c="1D45F" xlink:href="#MJX-10-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(412,0)"><use data-c="1D452" xlink:href="#MJX-10-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="c" transform="translate(836,0)"><use data-c="1D450" xlink:href="#MJX-10-STX-I-1D450"></use></g><g data-mml-node="mi" data-latex="v" transform="translate(1250,0)"><use data-c="1D463" xlink:href="#MJX-10-STX-I-1D463"></use></g></g><g data-mml-node="mtext" transform="translate(4809.8,0)"><use data-c="A0" xlink:href="#MJX-10-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="a" transform="translate(5044.8,0)"><use data-c="1D44E" xlink:href="#MJX-10-STX-I-1D44E"></use></g><g data-mml-node="mo" data-latex=";" transform="translate(5599.8,0)"><use data-c="3B" xlink:href="#MJX-10-STX-N-3B"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(6011.5,0)"><use data-c="5C" xlink:href="#MJX-10-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-10-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{s e n d}" data-mjx-texclass="ORD" transform="translate(7248.5,0)"><g data-mml-node="mi" data-latex="s"><use data-c="1D460" xlink:href="#MJX-10-STX-I-1D460"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(386,0)"><use data-c="1D452" xlink:href="#MJX-10-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="n" transform="translate(810,0)"><use data-c="1D45B" xlink:href="#MJX-10-STX-I-1D45B"></use></g><g data-mml-node="mi" data-latex="d" transform="translate(1375,0)"><use data-c="1D451" xlink:href="#MJX-10-STX-I-1D451"></use></g></g><g data-mml-node="mtext" transform="translate(9179.5,0)"><use data-c="A0" xlink:href="#MJX-10-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="a" transform="translate(9414.5,0)"><use data-c="1D44E" xlink:href="#MJX-10-STX-I-1D44E"></use></g><g data-mml-node="mtext" transform="translate(9969.5,0)"><use data-c="A0" xlink:href="#MJX-10-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="n" transform="translate(10204.5,0)"><use data-c="1D45B" xlink:href="#MJX-10-STX-I-1D45B"></use></g></g></g></svg></mjx-container></div><p>How do we compute such a projection?</p>
<!-- We write $G \upharpoonright S$ for the projection of global type $G$ on a set of parties $S$. -->
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -3.706ex;" xmlns="http://www.w3.org/2000/svg" width="32.55ex" height="8.455ex" role="img" focusable="false" viewBox="0 -2275 15591.3 4050" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-11-STX-N-28" d="M45 270C45 47 150-112 311-196L327-170C181-71 127 66 127 270C127 474 181 611 327 710L311 736C150 652 45 493 45 270Z"></path><path id="MJX-11-STX-I-1D43A" d="M684 309L444 309L438 278C514 278 522 264 507 192L486 83C442 53 398 33 337 33C215 33 163 110 163 258C164 488 297 627 450 627C553 627 610 573 606 440L639 440L685 669L657 669C641 647 631 633 616 633C590 633 565 670 459 670C259 670 62 523 62 234C62 106 121-11 313-11C419-11 486 15 567 57L597 202C609 264 622 278 679 278Z"></path><path id="MJX-11-STX-N-31" d="M426 0L426 28C334 28 297 46 297 95L297 639L268 639L74 584L74 551C105 561 156 567 176 567C201 567 209 553 209 518L209 95C209 45 174 28 80 28L80 0Z"></path><path id="MJX-11-STX-N-3B" d="M70-132C110-114 194-80 194 33C194 88 167 121 117 121C77 121 55 94 55 62C55 33 71 8 110 8C121 8 130 10 141 14C141-67 95-91 58-107M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-11-STX-N-32" d="M464 160L435 160C412 100 399 79 346 79L207 79L137 76L137 81L269 206C375 313 432 382 432 471C432 576 353 644 240 644C143 644 75 588 44 491L68 481C105 556 149 579 214 579C291 579 339 531 339 456C339 351 289 288 190 186L38 34L38 0L432 0Z"></path><path id="MJX-11-STX-N-29" d="M312 270C312 493 207 652 46 736L30 710C176 611 230 474 230 270C230 66 176-71 30-170L46-196C207-112 312 47 312 270Z"></path><path id="MJX-11-STX-N-21BE" d="M451 434C375 495 279 579 232 678L227 678L227-160L295-160L295 475C295 493 299 502 309 502C317 502 324 496 334 487C365 456 398 437 432 413Z"></path><path id="MJX-11-STX-I-1D45D" d="M275-220L282-193C202-193 181-166 181-143C181-129 183-111 185-101L209 15C229 3 268-11 300-11C456-11 572 119 572 307C572 423 510 479 432 479C380 479 338 451 290 397L285 397L299 474L280 474L137 459L137 434C137 434 154 436 169 436C195 436 206 427 206 407C206 400 205 394 204 388L77-220M272 311C300 370 340 423 404 423C434 423 484 402 484 307C484 131 415 32 308 32C266 32 238 49 221 64Z"></path><path id="MJX-11-STX-N-2261" d="M658 28L658 96L62 96L62 28M658 225L658 293L62 293L62 225M658 422L658 489L62 489L62 422Z"></path><path id="MJX-11-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path><path id="MJX-11-STX-N-2192" d="M876 264C778 305 700 382 634 459L613 439C636 405 667 369 697 341C707 331 711 324 711 315C711 305 695 293 685 293L71 293L71 225L684 225C702 225 710 215 710 205C710 196 705 185 696 176C665 144 636 111 612 78L633 58C700 136 778 212 876 254Z"></path><path id="MJX-11-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path><path id="MJX-11-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-11-STX-I-1D45A" d="M403 0L435 138C472 228 587 407 649 407C672 407 679 390 679 367C679 346 670 308 663 282L612 88C611 83 607 65 607 49C607 19 622-10 673-10C744-10 784 60 810 97L790 112C774 93 750 60 715 60C702 60 696 68 696 79C696 91 699 103 699 103L754 334C757 348 764 382 764 408C764 444 750 479 700 479C596 479 514 346 471 270L463 270L480 334C481 339 489 379 489 408C489 444 476 479 426 479C312 479 227 338 185 259L177 259L227 476L204 476L66 465L66 438C66 438 85 440 98 440C122 440 130 430 130 413C130 398 127 380 127 380L47 0L129 0L160 137C210 250 309 407 375 407C398 407 405 390 405 367C405 351 400 328 399 325C375 215 349 107 320 0Z"></path><path id="MJX-11-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-11-STX-N-6D" d="M185 357C214 384 258 421 310 421C356 421 390 399 390 314L390 116C390 46 384 29 313 29L313 0L550 0L550 29C478 29 473 47 473 116L473 359C506 387 547 421 588 421C635 421 674 399 674 308L674 116C674 55 671 29 603 29L603 0L829 0L829 29C760 29 757 53 757 116L757 320C757 441 706 485 628 485C575 485 524 456 469 402L465 402C445 450 411 485 354 485C286 485 240 448 186 401L182 401L182 482L158 482L33 453L33 424C33 424 45 426 60 426C88 426 102 417 102 381L102 101C102 41 95 29 32 29L32 0L260 0L260 29C198 29 185 41 185 97Z"></path><path id="MJX-11-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path><path id="MJX-11-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-11-STX-I-1D45B" d="M521 112C506 93 481 60 447 60C433 60 428 68 428 79C428 91 430 103 430 103L487 334C490 348 496 382 496 408C496 444 481 479 430 479C312 479 227 334 185 259L177 259L227 476L205 476L66 465L66 438C66 438 86 440 99 440C122 440 131 430 131 413C131 398 128 380 128 380L47 0L129 0L165 158C197 227 307 407 380 407C403 407 410 390 410 367C410 347 403 319 403 319L344 88C343 83 339 65 339 49C339 19 354-10 404-10C476-10 516 60 542 97Z"></path><path id="MJX-11-STX-I-1D451" d="M529 705L507 705L371 694L371 668C371 668 390 670 402 670C432 670 437 656 437 639C437 625 434 607 434 607L401 439L398 439C374 464 341 479 296 479C157 479 37 340 37 162C37 45 89-12 163-12C222-12 279 24 329 85L337 85C335 73 332 54 332 42C332 11 353-10 393-10C462-10 499 53 530 97L510 112C496 93 469 60 437 60C424 60 418 65 418 79C418 92 423 121 423 121M346 177C319 101 274 54 206 54C157 54 126 78 126 169C126 299 190 441 291 441C349 441 377 394 377 351C377 333 372 252 346 177Z"></path><path id="MJX-11-STX-N-A0" d=""></path><path id="MJX-11-STX-I-1D45F" d="M161 259L212 476L190 476L51 465L51 438C51 438 71 440 82 440C110 440 115 429 115 410C115 392 110 366 106 348L32 0L117 0L147 140C163 180 253 395 301 395C304 395 314 358 346 358C372 358 399 377 399 421C399 460 375 479 343 479C263 479 203 326 171 259Z"></path><path id="MJX-11-STX-I-1D450" d="M358 123C327 85 288 57 219 57C161 57 109 77 109 184C109 300 170 446 280 446C312 446 329 434 329 419C329 403 310 375 310 349C310 327 324 314 348 314C385 314 404 346 404 386C404 451 353 479 290 479C146 479 26 335 26 169C26 68 71-12 179-12C269-12 334 44 375 108Z"></path><path id="MJX-11-STX-I-1D463" d="M200 476L53 465L53 437C53 437 83 440 99 440C117 440 123 426 123 409C123 389 116 365 113 354L93 278C82 236 71 183 71 135C71 58 100-9 200-9C380-9 479 206 479 358C479 429 448 479 403 479C382 479 365 464 365 437C365 393 426 369 426 299C426 206 368 55 231 55C170 55 153 99 153 151C153 196 166 249 175 284L222 476Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\begin{array}{r@{\hspace{0.3em}}l}
(G_1; G_2) \upharpoonright p \equiv &amp; (G_1 \upharpoonright p); (G_2 \upharpoonright p) \\
a \to b: m \upharpoonright a \equiv &amp; \m{send}\ b \\
a \to b: m \upharpoonright b \equiv &amp; \m{recv}\ a
\end{array}
"><g data-mml-node="mtable" data-frame-styles="" data-latex-item="{array}" data-latex="\hspace{0.3em}&amp;\m{recv}\ a\end{array}
"><g data-mml-node="mtr" transform="translate(0,1400)"><g data-mml-node="mtd" transform="translate(1278.4,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-11-STX-N-28"></use></g><g data-mml-node="msub" data-latex="G_1" transform="translate(357,0)"><g data-mml-node="mi" data-latex="G"><use data-c="1D43A" xlink:href="#MJX-11-STX-I-1D43A"></use></g><g data-mml-node="mn" transform="translate(730,-150) scale(0.707)" data-latex="1"><use data-c="31" xlink:href="#MJX-11-STX-N-31"></use></g></g><g data-mml-node="mo" data-latex=";" transform="translate(1487,0)"><use data-c="3B" xlink:href="#MJX-11-STX-N-3B"></use></g><g data-mml-node="msub" data-latex="G_2" transform="translate(1898.7,0)"><g data-mml-node="mi" data-latex="G"><use data-c="1D43A" xlink:href="#MJX-11-STX-I-1D43A"></use></g><g data-mml-node="mn" transform="translate(730,-150) scale(0.707)" data-latex="2"><use data-c="32" xlink:href="#MJX-11-STX-N-32"></use></g></g><g data-mml-node="mo" data-latex=")" transform="translate(3028.7,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-11-STX-N-29"></use></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(3663.5,0)"><use data-c="21BE" xlink:href="#MJX-11-STX-N-21BE"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(4464.3,0)"><use data-c="1D45D" xlink:href="#MJX-11-STX-I-1D45D"></use></g><g data-mml-node="mo" data-latex="\equiv" transform="translate(5340,0)"><use data-c="2261" xlink:href="#MJX-11-STX-N-2261"></use></g></g><g data-mml-node="mtd" transform="translate(7338.4,0)"><g data-mml-node="mspace" data-latex="\hspace{0.3em}"></g></g><g data-mml-node="mtd" transform="translate(7638.4,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-11-STX-N-28"></use></g><g data-mml-node="msub" data-latex="G_1" transform="translate(357,0)"><g data-mml-node="mi" data-latex="G"><use data-c="1D43A" xlink:href="#MJX-11-STX-I-1D43A"></use></g><g data-mml-node="mn" transform="translate(730,-150) scale(0.707)" data-latex="1"><use data-c="31" xlink:href="#MJX-11-STX-N-31"></use></g></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(1764.8,0)"><use data-c="21BE" xlink:href="#MJX-11-STX-N-21BE"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(2565.6,0)"><use data-c="1D45D" xlink:href="#MJX-11-STX-I-1D45D"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(3163.6,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-11-STX-N-29"></use></g><g data-mml-node="mo" data-latex=";" transform="translate(3520.6,0)"><use data-c="3B" xlink:href="#MJX-11-STX-N-3B"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(3932.2,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-11-STX-N-28"></use></g><g data-mml-node="msub" data-latex="G_2" transform="translate(4289.2,0)"><g data-mml-node="mi" data-latex="G"><use data-c="1D43A" xlink:href="#MJX-11-STX-I-1D43A"></use></g><g data-mml-node="mn" transform="translate(730,-150) scale(0.707)" data-latex="2"><use data-c="32" xlink:href="#MJX-11-STX-N-32"></use></g></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(5697,0)"><use data-c="21BE" xlink:href="#MJX-11-STX-N-21BE"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(6497.8,0)"><use data-c="1D45D" xlink:href="#MJX-11-STX-I-1D45D"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(7095.8,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-11-STX-N-29"></use></g></g></g><g data-mml-node="mtr"><g data-mml-node="mtd" transform="translate(500,0)"><g data-mml-node="mi" data-latex="a"><use data-c="1D44E" xlink:href="#MJX-11-STX-I-1D44E"></use></g><g data-mml-node="mo" data-latex="\to" transform="translate(832.8,0)"><use data-c="2192" xlink:href="#MJX-11-STX-N-2192"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(2058.6,0)"><use data-c="1D44F" xlink:href="#MJX-11-STX-I-1D44F"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(2854.3,0)"><use data-c="3A" xlink:href="#MJX-11-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="m" transform="translate(3377.1,0)"><use data-c="1D45A" xlink:href="#MJX-11-STX-I-1D45A"></use></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(4484.9,0)"><use data-c="21BE" xlink:href="#MJX-11-STX-N-21BE"></use></g><g data-mml-node="mi" data-latex="a" transform="translate(5285.7,0)"><use data-c="1D44E" xlink:href="#MJX-11-STX-I-1D44E"></use></g><g data-mml-node="mo" data-latex="\equiv" transform="translate(6118.4,0)"><use data-c="2261" xlink:href="#MJX-11-STX-N-2261"></use></g></g><g data-mml-node="mtd" transform="translate(7338.4,0)"><g data-mml-node="mspace" data-latex="\hspace{0.3em}"></g></g><g data-mml-node="mtd" transform="translate(7638.4,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m"><use data-c="5C" xlink:href="#MJX-11-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-11-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{s e n d}" data-mjx-texclass="ORD" transform="translate(1237,0)"><g data-mml-node="mi" data-latex="s"><use data-c="1D460" xlink:href="#MJX-11-STX-I-1D460"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(386,0)"><use data-c="1D452" xlink:href="#MJX-11-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="n" transform="translate(810,0)"><use data-c="1D45B" xlink:href="#MJX-11-STX-I-1D45B"></use></g><g data-mml-node="mi" data-latex="d" transform="translate(1375,0)"><use data-c="1D451" xlink:href="#MJX-11-STX-I-1D451"></use></g></g><g data-mml-node="mtext" transform="translate(3168,0)"><use data-c="A0" xlink:href="#MJX-11-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(3403,0)"><use data-c="1D44F" xlink:href="#MJX-11-STX-I-1D44F"></use></g></g></g><g data-mml-node="mtr" transform="translate(0,-1400)"><g data-mml-node="mtd" transform="translate(537,0)"><g data-mml-node="mi" data-latex="a"><use data-c="1D44E" xlink:href="#MJX-11-STX-I-1D44E"></use></g><g data-mml-node="mo" data-latex="\to" transform="translate(832.8,0)"><use data-c="2192" xlink:href="#MJX-11-STX-N-2192"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(2058.6,0)"><use data-c="1D44F" xlink:href="#MJX-11-STX-I-1D44F"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(2854.3,0)"><use data-c="3A" xlink:href="#MJX-11-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="m" transform="translate(3377.1,0)"><use data-c="1D45A" xlink:href="#MJX-11-STX-I-1D45A"></use></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(4484.9,0)"><use data-c="21BE" xlink:href="#MJX-11-STX-N-21BE"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(5285.7,0)"><use data-c="1D44F" xlink:href="#MJX-11-STX-I-1D44F"></use></g><g data-mml-node="mo" data-latex="\equiv" transform="translate(6081.4,0)"><use data-c="2261" xlink:href="#MJX-11-STX-N-2261"></use></g></g><g data-mml-node="mtd" transform="translate(7338.4,0)"><g data-mml-node="mspace" data-latex="\hspace{0.3em}"></g></g><g data-mml-node="mtd" transform="translate(7638.4,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m"><use data-c="5C" xlink:href="#MJX-11-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-11-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{r e c v}" data-mjx-texclass="ORD" transform="translate(1237,0)"><g data-mml-node="mi" data-latex="r"><use data-c="1D45F" xlink:href="#MJX-11-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(412,0)"><use data-c="1D452" xlink:href="#MJX-11-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="c" transform="translate(836,0)"><use data-c="1D450" xlink:href="#MJX-11-STX-I-1D450"></use></g><g data-mml-node="mi" data-latex="v" transform="translate(1250,0)"><use data-c="1D463" xlink:href="#MJX-11-STX-I-1D463"></use></g></g><g data-mml-node="mtext" transform="translate(2991,0)"><use data-c="A0" xlink:href="#MJX-11-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="a" transform="translate(3226,0)"><use data-c="1D44E" xlink:href="#MJX-11-STX-I-1D44E"></use></g></g></g></g></g></g></svg></mjx-container></div><p>The rules are very simple for this tiny language:
projection is &quot;pushed through&quot; sequential composition,
and if we are projecting <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0.121ex;" xmlns="http://www.w3.org/2000/svg" width="1.979ex" height="0.837ex" role="img" focusable="false" viewBox="0 -459 948 401" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-43-STX-N-2192" d="M876 264C778 305 700 382 634 459L613 439C636 405 667 369 697 341C707 331 711 324 711 315C711 305 695 293 685 293L71 293L71 225L684 225C702 225 710 215 710 205C710 196 705 185 696 176C665 144 636 111 612 78L633 58C700 136 778 212 876 254Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\to"><g data-mml-node="mo" data-latex="\to"><use data-c="2192" xlink:href="#MJX-43-STX-N-2192"></use></g></g></g></svg></mjx-container> with respect to a given party <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.248ex" height="1.459ex" role="img" focusable="false" viewBox="0 -479 598 699" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-44-STX-I-1D45D" d="M275-220L282-193C202-193 181-166 181-143C181-129 183-111 185-101L209 15C229 3 268-11 300-11C456-11 572 119 572 307C572 423 510 479 432 479C380 479 338 451 290 397L285 397L299 474L280 474L137 459L137 434C137 434 154 436 169 436C195 436 206 427 206 407C206 400 205 394 204 388L77-220M272 311C300 370 340 423 404 423C434 423 484 402 484 307C484 131 415 32 308 32C266 32 238 49 221 64Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="p"><g data-mml-node="mi" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-44-STX-I-1D45D"></use></g></g></g></svg></mjx-container> and we see <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.248ex" height="1.459ex" role="img" focusable="false" viewBox="0 -479 598 699" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-45-STX-I-1D45D" d="M275-220L282-193C202-193 181-166 181-143C181-129 183-111 185-101L209 15C229 3 268-11 300-11C456-11 572 119 572 307C572 423 510 479 432 479C380 479 338 451 290 397L285 397L299 474L280 474L137 459L137 434C137 434 154 436 169 436C195 436 206 427 206 407C206 400 205 394 204 388L77-220M272 311C300 370 340 423 404 423C434 423 484 402 484 307C484 131 415 32 308 32C266 32 238 49 221 64Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="p"><g data-mml-node="mi" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-45-STX-I-1D45D"></use></g></g></g></svg></mjx-container> is the sender, the result is a <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="3.933ex" height="1.497ex" role="img" focusable="false" viewBox="0 -705 1884 717" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-46-STX-MI-73" d="M164-11C277-11 316 55 316 113C316 177 280 214 237 260C193 307 142 343 142 385C142 414 163 449 215 449C274 449 307 400 310 323L334 323L357 479L338 479L312 452L309 452C297 459 260 479 207 479C116 479 71 425 71 357C71 295 118 260 159 221C197 185 233 150 233 96C233 44 201 23 155 23C87 23 61 69 51 156L26 156L0-11L22-11L46 16L49 16C63 10 101-11 164-11Z"></path><path id="MJX-46-STX-MI-65" d="M179-12C243-12 312 17 372 107L354 122C315 74 269 57 219 57C152 57 116 88 116 189C116 193 116 198 116 202C233 211 401 264 401 389C401 467 337 479 294 479C132 479 32 307 32 163C32 75 69-12 179-12M120 232C135 327 198 448 273 448C303 448 315 429 315 393C315 298 231 239 120 232Z"></path><path id="MJX-46-STX-MI-6E" d="M400-10C471-10 511 60 537 97L516 112C501 93 477 60 442 60C429 60 423 68 423 79C423 91 426 103 426 103L482 334C485 348 491 375 491 408C491 444 476 479 427 479C312 479 228 334 187 259L179 259L229 476L207 476L68 465L68 438C68 438 88 440 101 440C124 440 134 430 134 413C134 398 130 380 130 380L49 0L131 0L167 158C199 227 306 407 377 407C399 407 406 390 406 367C406 347 399 319 399 319L340 88C338 83 334 65 334 49C334 19 350-10 400-10Z"></path><path id="MJX-46-STX-MI-64" d="M161-12C220-12 270 25 318 85L326 85C324 73 321 54 321 42C321 11 341-10 380-10C446-10 483 48 517 97L497 112C483 93 456 60 424 60C411 60 405 65 405 79C405 92 410 121 410 121L521 705L499 705L362 694L362 668C362 668 380 670 392 670C422 670 427 656 427 639C427 625 424 607 424 607L392 439L389 439C366 464 330 479 286 479C147 479 35 330 35 159C35 37 92-12 161-12M196 54C153 54 123 80 123 171C123 301 185 441 281 441C330 441 364 404 364 347C364 318 355 254 336 176C320 114 262 54 196 54Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\m{send}"><g data-mml-node="TeXAtom" data-latex="\mathit{send}" data-mjx-texclass="ORD"><g data-mml-node="mi" data-latex="send"><use data-c="73" xlink:href="#MJX-46-STX-MI-73"></use><use data-c="65" xlink:href="#MJX-46-STX-MI-65" transform="translate(367,0)"></use><use data-c="6E" xlink:href="#MJX-46-STX-MI-6E" transform="translate(779,0)"></use><use data-c="64" xlink:href="#MJX-46-STX-MI-64" transform="translate(1343,0)"></use></g></g></g></g></svg></mjx-container>, otherwise it is a <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.027ex;" xmlns="http://www.w3.org/2000/svg" width="3.407ex" height="1.027ex" role="img" focusable="false" viewBox="0 -479 1632 492" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-47-STX-MI-72" d="M134 0L165 143C204 238 277 395 318 395C321 395 331 358 363 358C389 358 416 377 416 421C416 460 392 479 361 479C280 479 219 326 188 259L178 259L229 476L207 476L68 465L68 438C68 438 88 440 99 440C127 440 132 429 132 410C132 392 127 366 123 348L49 0Z"></path><path id="MJX-47-STX-MI-65" d="M179-12C243-12 312 17 372 107L354 122C315 74 269 57 219 57C152 57 116 88 116 189C116 193 116 198 116 202C233 211 401 264 401 389C401 467 337 479 294 479C132 479 32 307 32 163C32 75 69-12 179-12M120 232C135 327 198 448 273 448C303 448 315 429 315 393C315 298 231 239 120 232Z"></path><path id="MJX-47-STX-MI-63" d="M183-13C273-13 336 46 376 108L359 123C329 85 290 57 225 57C150 57 117 95 117 183C117 300 176 446 282 446C313 446 330 434 330 419C330 403 311 375 311 349C311 327 325 314 349 314C386 314 405 346 405 386C405 451 354 479 292 479C152 479 34 337 34 167C34 58 85-13 183-13Z"></path><path id="MJX-47-STX-MI-76" d="M160-8C295 76 417 218 417 385C417 424 403 479 353 479C329 479 308 465 308 435C308 388 358 385 358 324C358 232 279 126 185 50L183 50L185 85C181 210 171 349 156 477L132 477L1 461L1 430C14 432 23 433 33 433C66 433 74 421 79 374C96 244 105 143 111-8Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\m{recv}"><g data-mml-node="TeXAtom" data-latex="\mathit{recv}" data-mjx-texclass="ORD"><g data-mml-node="mi" data-latex="recv"><use data-c="72" xlink:href="#MJX-47-STX-MI-72"></use><use data-c="65" xlink:href="#MJX-47-STX-MI-65" transform="translate(383,0)"></use><use data-c="63" xlink:href="#MJX-47-STX-MI-63" transform="translate(795,0)"></use><use data-c="76" xlink:href="#MJX-47-STX-MI-76" transform="translate(1203,0)"></use></g></g></g></g></svg></mjx-container>.</p>
<!--

Both $\to$ cases assume $a\neq b$.

<details>
    <summary>What if $a=b$, i.e. how should we project $a \to a: m$?</summary>
    It seems like the result should be $\m{send}\ a\ m; \m{recv}\ a$. We'll solve this shortly.
</details>

<details>
    <summary>What if $a\neq b \neq m$?</summary>
    The result is a no-op. We don't discuss this for brevity.
</details>

-->
<!-- proof -->
<h2 id="multicasts">Multicasts</h2>
<p>It would be amazing if we could model a real-world protocol like <a href="https://raft.github.io/">Raft</a> as a type and have the conformance of an implementation checked automatically and decideably!</p>
<p>We are still quite a long way off.
One major missing ingredient is the ability to express a multicast, the first step in leader election.</p>
<p>Let's extend our language of multiparty session types with a way to talk about communication that happens uniformly across a set of parties, which we'll call a <em>role</em>. We'll use the symbol <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.196ex" height="1.415ex" role="img" focusable="false" viewBox="0 -678 573 678" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-48-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-48-STX-N-2200"></use></g></g></g></svg></mjx-container> for it, as an analogy to universal quantification.
We'll also add parallel composition <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.445ex;" xmlns="http://www.w3.org/2000/svg" width="1.115ex" height="1.933ex" role="img" focusable="false" viewBox="0 -713 534 926" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-49-STX-N-7C" d="M162-220L162 706L105 706L105-220Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="||"><g data-mml-node="mo" data-latex="|" transform="translate(0 7)"><use data-c="7C" xlink:href="#MJX-49-STX-N-7C"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(267,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-49-STX-N-7C"></use></g></g></g></svg></mjx-container>.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.445ex;" xmlns="http://www.w3.org/2000/svg" width="35.417ex" height="1.933ex" role="img" focusable="false" viewBox="0 -713 16964.8 926" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-12-STX-I-1D43A" d="M684 309L444 309L438 278C514 278 522 264 507 192L486 83C442 53 398 33 337 33C215 33 163 110 163 258C164 488 297 627 450 627C553 627 610 573 606 440L639 440L685 669L657 669C641 647 631 633 616 633C590 633 565 670 459 670C259 670 62 523 62 234C62 106 121-11 313-11C419-11 486 15 567 57L597 202C609 264 622 278 679 278Z"></path><path id="MJX-12-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-12-STX-N-3D" d="M658 327L658 395L62 395L62 327M658 123L658 190L62 190L62 123Z"></path><path id="MJX-12-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path><path id="MJX-12-STX-N-2192" d="M876 264C778 305 700 382 634 459L613 439C636 405 667 369 697 341C707 331 711 324 711 315C711 305 695 293 685 293L71 293L71 225L684 225C702 225 710 215 710 205C710 196 705 185 696 176C665 144 636 111 612 78L633 58C700 136 778 212 876 254Z"></path><path id="MJX-12-STX-I-1D44F" d="M198 402L257 705L235 705L97 694L97 668C97 668 116 670 127 670C147 670 163 663 163 641C163 629 160 610 159 606L46 25C95 0 146-12 204-12C382-12 483 140 483 304C483 424 421 479 342 479C289 479 246 450 203 402M184 316C205 363 249 423 313 423C358 423 395 390 395 300C395 148 338 30 219 30C177 30 148 54 135 66Z"></path><path id="MJX-12-STX-I-1D45A" d="M403 0L435 138C472 228 587 407 649 407C672 407 679 390 679 367C679 346 670 308 663 282L612 88C611 83 607 65 607 49C607 19 622-10 673-10C744-10 784 60 810 97L790 112C774 93 750 60 715 60C702 60 696 68 696 79C696 91 699 103 699 103L754 334C757 348 764 382 764 408C764 444 750 479 700 479C596 479 514 346 471 270L463 270L480 334C481 339 489 379 489 408C489 444 476 479 426 479C312 479 227 338 185 259L177 259L227 476L204 476L66 465L66 438C66 438 85 440 98 440C122 440 130 430 130 413C130 398 127 380 127 380L47 0L129 0L160 137C210 250 309 407 375 407C398 407 405 390 405 367C405 351 400 328 399 325C375 215 349 107 320 0Z"></path><path id="MJX-12-STX-N-A0" d=""></path><path id="MJX-12-STX-N-7C" d="M162-220L162 706L105 706L105-220Z"></path><path id="MJX-12-STX-N-3B" d="M70-132C110-114 194-80 194 33C194 88 167 121 117 121C77 121 55 94 55 62C55 33 71 8 110 8C121 8 130 10 141 14C141-67 95-91 58-107M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-12-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-12-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path><path id="MJX-12-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path><path id="MJX-12-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="G ::= a \to b: m\ |\ G; G \ |\ G \mathbin{||}G \ |\ \forall x:S \cdot G
"><g data-mml-node="mi" data-latex="G"><use data-c="1D43A" xlink:href="#MJX-12-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="::=" transform="translate(974.8,0)"><g data-mml-node="text"><use data-c="3A" xlink:href="#MJX-12-STX-N-3A"></use></g><g data-mml-node="text" transform="translate(245,0)"><use data-c="3A" xlink:href="#MJX-12-STX-N-3A"></use></g><g data-mml-node="text" transform="translate(490,0)"><use data-c="3D" xlink:href="#MJX-12-STX-N-3D"></use></g></g><g data-mml-node="mi" data-latex="a" transform="translate(2462.6,0)"><use data-c="1D44E" xlink:href="#MJX-12-STX-I-1D44E"></use></g><g data-mml-node="mo" data-latex="\to" transform="translate(3295.3,0)"><use data-c="2192" xlink:href="#MJX-12-STX-N-2192"></use></g><g data-mml-node="mi" data-latex="b" transform="translate(4521.1,0)"><use data-c="1D44F" xlink:href="#MJX-12-STX-I-1D44F"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(5316.9,0)"><use data-c="3A" xlink:href="#MJX-12-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="m" transform="translate(5839.7,0)"><use data-c="1D45A" xlink:href="#MJX-12-STX-I-1D45A"></use></g><g data-mml-node="mtext" transform="translate(6669.7,0)"><use data-c="A0" xlink:href="#MJX-12-STX-N-A0"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(6904.7,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-12-STX-N-7C"></use></g><g data-mml-node="mtext" transform="translate(7171.7,0)"><use data-c="A0" xlink:href="#MJX-12-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(7406.7,0)"><use data-c="1D43A" xlink:href="#MJX-12-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex=";" transform="translate(8103.7,0)"><use data-c="3B" xlink:href="#MJX-12-STX-N-3B"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(8515.3,0)"><use data-c="1D43A" xlink:href="#MJX-12-STX-I-1D43A"></use></g><g data-mml-node="mtext" transform="translate(9212.3,0)"><use data-c="A0" xlink:href="#MJX-12-STX-N-A0"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(9447.3,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-12-STX-N-7C"></use></g><g data-mml-node="mtext" transform="translate(9714.3,0)"><use data-c="A0" xlink:href="#MJX-12-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(9949.3,0)"><use data-c="1D43A" xlink:href="#MJX-12-STX-I-1D43A"></use></g><g data-mml-node="TeXAtom" data-latex="\mathbin{||}" data-mjx-texclass="BIN" transform="translate(10868.6,0)"><g data-mml-node="mo" data-latex="|" transform="translate(0 7)"><use data-c="7C" xlink:href="#MJX-12-STX-N-7C"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(267,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-12-STX-N-7C"></use></g></g><g data-mml-node="mi" data-latex="G" transform="translate(11624.8,0)"><use data-c="1D43A" xlink:href="#MJX-12-STX-I-1D43A"></use></g><g data-mml-node="mtext" transform="translate(12321.8,0)"><use data-c="A0" xlink:href="#MJX-12-STX-N-A0"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(12556.8,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-12-STX-N-7C"></use></g><g data-mml-node="mtext" transform="translate(12823.8,0)"><use data-c="A0" xlink:href="#MJX-12-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="\forall" transform="translate(13058.8,0)"><use data-c="2200" xlink:href="#MJX-12-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(13631.8,0)"><use data-c="1D465" xlink:href="#MJX-12-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(14468.6,0)"><use data-c="3A" xlink:href="#MJX-12-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(14991.3,0)"><use data-c="1D446" xlink:href="#MJX-12-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(15752.6,0)"><use data-c="22C5" xlink:href="#MJX-12-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(16267.8,0)"><use data-c="1D43A" xlink:href="#MJX-12-STX-I-1D43A"></use></g></g></g></svg></mjx-container></div><p>We can now write a type like</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="26.944ex" height="1.939ex" role="img" focusable="false" viewBox="0 -709 12906.1 929" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-13-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-13-STX-I-1D45D" d="M275-220L282-193C202-193 181-166 181-143C181-129 183-111 185-101L209 15C229 3 268-11 300-11C456-11 572 119 572 307C572 423 510 479 432 479C380 479 338 451 290 397L285 397L299 474L280 474L137 459L137 434C137 434 154 436 169 436C195 436 206 427 206 407C206 400 205 394 204 388L77-220M272 311C300 370 340 423 404 423C434 423 484 402 484 307C484 131 415 32 308 32C266 32 238 49 221 64Z"></path><path id="MJX-13-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-13-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-13-STX-N-6D" d="M185 357C214 384 258 421 310 421C356 421 390 399 390 314L390 116C390 46 384 29 313 29L313 0L550 0L550 29C478 29 473 47 473 116L473 359C506 387 547 421 588 421C635 421 674 399 674 308L674 116C674 55 671 29 603 29L603 0L829 0L829 29C760 29 757 53 757 116L757 320C757 441 706 485 628 485C575 485 524 456 469 402L465 402C445 450 411 485 354 485C286 485 240 448 186 401L182 401L182 482L158 482L33 453L33 424C33 424 45 426 60 426C88 426 102 417 102 381L102 101C102 41 95 29 32 29L32 0L260 0L260 29C198 29 185 41 185 97Z"></path><path id="MJX-13-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path><path id="MJX-13-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path><path id="MJX-13-STX-I-1D450" d="M358 123C327 85 288 57 219 57C161 57 109 77 109 184C109 300 170 446 280 446C312 446 329 434 329 419C329 403 310 375 310 349C310 327 324 314 348 314C385 314 404 346 404 386C404 451 353 479 290 479C146 479 26 335 26 169C26 68 71-12 179-12C269-12 334 44 375 108Z"></path><path id="MJX-13-STX-N-2192" d="M876 264C778 305 700 382 634 459L613 439C636 405 667 369 697 341C707 331 711 324 711 315C711 305 695 293 685 293L71 293L71 225L684 225C702 225 710 215 710 205C710 196 705 185 696 176C665 144 636 111 612 78L633 58C700 136 778 212 876 254Z"></path><path id="MJX-13-STX-I-1D45F" d="M161 259L212 476L190 476L51 465L51 438C51 438 71 440 82 440C110 440 115 429 115 410C115 392 110 366 106 348L32 0L117 0L147 140C163 180 253 395 301 395C304 395 314 358 346 358C372 358 399 377 399 421C399 460 375 479 343 479C263 479 203 326 171 259Z"></path><path id="MJX-13-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-13-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall p:\m{ps} \cdot c \to p: \m{prepare}
"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-13-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(573,0)"><use data-c="1D45D" xlink:href="#MJX-13-STX-I-1D45D"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1448.8,0)"><use data-c="3A" xlink:href="#MJX-13-STX-N-3A"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(1971.6,0)"><use data-c="5C" xlink:href="#MJX-13-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-13-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{p s}" data-mjx-texclass="ORD" transform="translate(3208.6,0)"><g data-mml-node="mi" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-13-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(598,0)"><use data-c="1D460" xlink:href="#MJX-13-STX-I-1D460"></use></g></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(4414.8,0)"><use data-c="22C5" xlink:href="#MJX-13-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="c" transform="translate(4930,0)"><use data-c="1D450" xlink:href="#MJX-13-STX-I-1D450"></use></g><g data-mml-node="mo" data-latex="\to" transform="translate(5621.8,0)"><use data-c="2192" xlink:href="#MJX-13-STX-N-2192"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(6847.6,0)"><use data-c="1D45D" xlink:href="#MJX-13-STX-I-1D45D"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(7723.3,0)"><use data-c="3A" xlink:href="#MJX-13-STX-N-3A"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(8246.1,0)"><use data-c="5C" xlink:href="#MJX-13-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-13-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{p r e p a r e}" data-mjx-texclass="ORD" transform="translate(9483.1,0)"><g data-mml-node="mi" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-13-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="r" transform="translate(598,0)"><use data-c="1D45F" xlink:href="#MJX-13-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(1010,0)"><use data-c="1D452" xlink:href="#MJX-13-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(1434,0)"><use data-c="1D45D" xlink:href="#MJX-13-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="a" transform="translate(2032,0)"><use data-c="1D44E" xlink:href="#MJX-13-STX-I-1D44E"></use></g><g data-mml-node="mi" data-latex="r" transform="translate(2587,0)"><use data-c="1D45F" xlink:href="#MJX-13-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(2999,0)"><use data-c="1D452" xlink:href="#MJX-13-STX-I-1D452"></use></g></g></g></g></svg></mjx-container></div><p>which would suffice for the start of a <a href="https://en.wikipedia.org/wiki/Two-phase_commit_protocol#Basic_algorithm">commit protocol</a>.
Notice that <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.196ex" height="1.415ex" role="img" focusable="false" viewBox="0 -678 573 678" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-50-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-50-STX-N-2200"></use></g></g></g></svg></mjx-container> is just n-ary parallel composition for each party in the role.</p>
<p>Projection should give us</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -2.302ex;" xmlns="http://www.w3.org/2000/svg" width="32.331ex" height="5.648ex" role="img" focusable="false" viewBox="0 -1602.8 15486.6 2705.6" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-14-STX-I-1D43F" d="M541 195L509 195C447 79 426 38 299 38L252 38C193 38 178 48 187 92L278 540C293 612 325 627 397 627L402 657L118 657L112 627C198 627 203 607 189 541L103 124C86 44 70 30-7 30L-13 0L481 0Z"></path><path id="MJX-14-STX-I-1D450" d="M358 123C327 85 288 57 219 57C161 57 109 77 109 184C109 300 170 446 280 446C312 446 329 434 329 419C329 403 310 375 310 349C310 327 324 314 348 314C385 314 404 346 404 386C404 451 353 479 290 479C146 479 26 335 26 169C26 68 71-12 179-12C269-12 334 44 375 108Z"></path><path id="MJX-14-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-14-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-14-STX-I-1D45D" d="M275-220L282-193C202-193 181-166 181-143C181-129 183-111 185-101L209 15C229 3 268-11 300-11C456-11 572 119 572 307C572 423 510 479 432 479C380 479 338 451 290 397L285 397L299 474L280 474L137 459L137 434C137 434 154 436 169 436C195 436 206 427 206 407C206 400 205 394 204 388L77-220M272 311C300 370 340 423 404 423C434 423 484 402 484 307C484 131 415 32 308 32C266 32 238 49 221 64Z"></path><path id="MJX-14-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path><path id="MJX-14-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path><path id="MJX-14-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-14-STX-N-6D" d="M185 357C214 384 258 421 310 421C356 421 390 399 390 314L390 116C390 46 384 29 313 29L313 0L550 0L550 29C478 29 473 47 473 116L473 359C506 387 547 421 588 421C635 421 674 399 674 308L674 116C674 55 671 29 603 29L603 0L829 0L829 29C760 29 757 53 757 116L757 320C757 441 706 485 628 485C575 485 524 456 469 402L465 402C445 450 411 485 354 485C286 485 240 448 186 401L182 401L182 482L158 482L33 453L33 424C33 424 45 426 60 426C88 426 102 417 102 381L102 101C102 41 95 29 32 29L32 0L260 0L260 29C198 29 185 41 185 97Z"></path><path id="MJX-14-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-14-STX-I-1D45B" d="M521 112C506 93 481 60 447 60C433 60 428 68 428 79C428 91 430 103 430 103L487 334C490 348 496 382 496 408C496 444 481 479 430 479C312 479 227 334 185 259L177 259L227 476L205 476L66 465L66 438C66 438 86 440 99 440C122 440 131 430 131 413C131 398 128 380 128 380L47 0L129 0L165 158C197 227 307 407 380 407C403 407 410 390 410 367C410 347 403 319 403 319L344 88C343 83 339 65 339 49C339 19 354-10 404-10C476-10 516 60 542 97Z"></path><path id="MJX-14-STX-I-1D451" d="M529 705L507 705L371 694L371 668C371 668 390 670 402 670C432 670 437 656 437 639C437 625 434 607 434 607L401 439L398 439C374 464 341 479 296 479C157 479 37 340 37 162C37 45 89-12 163-12C222-12 279 24 329 85L337 85C335 73 332 54 332 42C332 11 353-10 393-10C462-10 499 53 530 97L510 112C496 93 469 60 437 60C424 60 418 65 418 79C418 92 423 121 423 121M346 177C319 101 274 54 206 54C157 54 126 78 126 169C126 299 190 441 291 441C349 441 377 394 377 351C377 333 372 252 346 177Z"></path><path id="MJX-14-STX-N-A0" d=""></path><path id="MJX-14-STX-I-1D45F" d="M161 259L212 476L190 476L51 465L51 438C51 438 71 440 82 440C110 440 115 429 115 410C115 392 110 366 106 348L32 0L117 0L147 140C163 180 253 395 301 395C304 395 314 358 346 358C372 358 399 377 399 421C399 460 375 479 343 479C263 479 203 326 171 259Z"></path><path id="MJX-14-STX-I-1D44E" d="M502 472L449 472L413 426L409 426C388 456 358 479 305 479C174 479 49 341 49 159C49 43 100-12 172-12C229-12 288 22 339 85L346 85C343 67 339 53 339 38C339 5 359-10 395-10C455-10 497 33 539 97L519 112C506 95 477 60 445 60C429 60 425 68 425 81C425 96 430 118 430 118M389 344C389 313 378 240 358 181C329 96 285 54 218 54C168 54 138 77 138 169C138 303 202 441 302 441C358 441 389 397 389 344Z"></path><path id="MJX-14-STX-I-1D463" d="M200 476L53 465L53 437C53 437 83 440 99 440C117 440 123 426 123 409C123 389 116 365 113 354L93 278C82 236 71 183 71 135C71 58 100-9 200-9C380-9 479 206 479 358C479 429 448 479 403 479C382 479 365 464 365 437C365 393 426 369 426 299C426 206 368 55 231 55C170 55 153 99 153 151C153 196 166 249 175 284L222 476Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\begin{array}{r@{\hspace{0.3em}}l}
L_c : &amp; \forall p:ps \cdot \m{send}\ p\ \m{prepare} \\
L_p : &amp; \m{recv}\ c
\end{array}
"><g data-mml-node="mtable" data-frame-styles="" data-latex-item="{array}" data-latex="\hspace{0.3em}&amp;\m{recv}\ c\end{array}
"><g data-mml-node="mtr" transform="translate(0,727.8)"><g data-mml-node="mtd" transform="translate(630.1,0)"><g data-mml-node="msub" data-latex="L_c"><g data-mml-node="mi" data-latex="L"><use data-c="1D43F" xlink:href="#MJX-14-STX-I-1D43F"></use></g><g data-mml-node="mi" transform="translate(602,-150) scale(0.707)" data-latex="c"><use data-c="1D450" xlink:href="#MJX-14-STX-I-1D450"></use></g></g><g data-mml-node="mo" data-latex=":" transform="translate(1222.5,0)"><use data-c="3A" xlink:href="#MJX-14-STX-N-3A"></use></g></g><g data-mml-node="mtd" transform="translate(2097.6,0)"><g data-mml-node="mspace" data-latex="\hspace{0.3em}"></g></g><g data-mml-node="mtd" transform="translate(2397.6,0)"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-14-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(573,0)"><use data-c="1D45D" xlink:href="#MJX-14-STX-I-1D45D"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1448.8,0)"><use data-c="3A" xlink:href="#MJX-14-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(1971.6,0)"><use data-c="1D45D" xlink:href="#MJX-14-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(2569.6,0)"><use data-c="1D460" xlink:href="#MJX-14-STX-I-1D460"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(3177.8,0)"><use data-c="22C5" xlink:href="#MJX-14-STX-N-22C5"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(3693,0)"><use data-c="5C" xlink:href="#MJX-14-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-14-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{s e n d}" data-mjx-texclass="ORD" transform="translate(4930,0)"><g data-mml-node="mi" data-latex="s"><use data-c="1D460" xlink:href="#MJX-14-STX-I-1D460"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(386,0)"><use data-c="1D452" xlink:href="#MJX-14-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="n" transform="translate(810,0)"><use data-c="1D45B" xlink:href="#MJX-14-STX-I-1D45B"></use></g><g data-mml-node="mi" data-latex="d" transform="translate(1375,0)"><use data-c="1D451" xlink:href="#MJX-14-STX-I-1D451"></use></g></g><g data-mml-node="mtext" transform="translate(6861,0)"><use data-c="A0" xlink:href="#MJX-14-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(7096,0)"><use data-c="1D45D" xlink:href="#MJX-14-STX-I-1D45D"></use></g><g data-mml-node="mtext" transform="translate(7694,0)"><use data-c="A0" xlink:href="#MJX-14-STX-N-A0"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(7929,0)"><use data-c="5C" xlink:href="#MJX-14-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-14-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{p r e p a r e}" data-mjx-texclass="ORD" transform="translate(9166,0)"><g data-mml-node="mi" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-14-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="r" transform="translate(598,0)"><use data-c="1D45F" xlink:href="#MJX-14-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(1010,0)"><use data-c="1D452" xlink:href="#MJX-14-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="p" transform="translate(1434,0)"><use data-c="1D45D" xlink:href="#MJX-14-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="a" transform="translate(2032,0)"><use data-c="1D44E" xlink:href="#MJX-14-STX-I-1D44E"></use></g><g data-mml-node="mi" data-latex="r" transform="translate(2587,0)"><use data-c="1D45F" xlink:href="#MJX-14-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(2999,0)"><use data-c="1D452" xlink:href="#MJX-14-STX-I-1D452"></use></g></g></g></g><g data-mml-node="mtr" transform="translate(0,-672.2)"><g data-mml-node="mtd" transform="translate(500,0)"><g data-mml-node="msub" data-latex="L_p"><g data-mml-node="mi" data-latex="L"><use data-c="1D43F" xlink:href="#MJX-14-STX-I-1D43F"></use></g><g data-mml-node="mi" transform="translate(602,-150) scale(0.707)" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-14-STX-I-1D45D"></use></g></g><g data-mml-node="mo" data-latex=":" transform="translate(1352.6,0)"><use data-c="3A" xlink:href="#MJX-14-STX-N-3A"></use></g></g><g data-mml-node="mtd" transform="translate(2097.6,0)"><g data-mml-node="mspace" data-latex="\hspace{0.3em}"></g></g><g data-mml-node="mtd" transform="translate(2397.6,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m"><use data-c="5C" xlink:href="#MJX-14-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-14-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{r e c v}" data-mjx-texclass="ORD" transform="translate(1237,0)"><g data-mml-node="mi" data-latex="r"><use data-c="1D45F" xlink:href="#MJX-14-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(412,0)"><use data-c="1D452" xlink:href="#MJX-14-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="c" transform="translate(836,0)"><use data-c="1D450" xlink:href="#MJX-14-STX-I-1D450"></use></g><g data-mml-node="mi" data-latex="v" transform="translate(1250,0)"><use data-c="1D463" xlink:href="#MJX-14-STX-I-1D463"></use></g></g><g data-mml-node="mtext" transform="translate(2991,0)"><use data-c="A0" xlink:href="#MJX-14-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="c" transform="translate(3226,0)"><use data-c="1D450" xlink:href="#MJX-14-STX-I-1D450"></use></g></g></g></g></g></g></svg></mjx-container></div><p>which matches our intuition neatly:</p>
<ul>
<li>when we project with respect to the set of coordinators, we want to get a local type which says what <em>one arbitrary</em> coordinator does. Since this coordinator isn't in <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="2.054ex" height="1.459ex" role="img" focusable="false" viewBox="0 -479 984 699" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-51-STX-I-1D45D" d="M275-220L282-193C202-193 181-166 181-143C181-129 183-111 185-101L209 15C229 3 268-11 300-11C456-11 572 119 572 307C572 423 510 479 432 479C380 479 338 451 290 397L285 397L299 474L280 474L137 459L137 434C137 434 154 436 169 436C195 436 206 427 206 407C206 400 205 394 204 388L77-220M272 311C300 370 340 423 404 423C434 423 484 402 484 307C484 131 415 32 308 32C266 32 238 49 221 64Z"></path><path id="MJX-51-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="ps"><g data-mml-node="mi" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-51-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(598,0)"><use data-c="1D460" xlink:href="#MJX-51-STX-I-1D460"></use></g></g></g></svg></mjx-container> but interacts with every member of <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="2.054ex" height="1.459ex" role="img" focusable="false" viewBox="0 -479 984 699" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-52-STX-I-1D45D" d="M275-220L282-193C202-193 181-166 181-143C181-129 183-111 185-101L209 15C229 3 268-11 300-11C456-11 572 119 572 307C572 423 510 479 432 479C380 479 338 451 290 397L285 397L299 474L280 474L137 459L137 434C137 434 154 436 169 436C195 436 206 427 206 407C206 400 205 394 204 388L77-220M272 311C300 370 340 423 404 423C434 423 484 402 484 307C484 131 415 32 308 32C266 32 238 49 221 64Z"></path><path id="MJX-52-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="ps"><g data-mml-node="mi" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-52-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(598,0)"><use data-c="1D460" xlink:href="#MJX-52-STX-I-1D460"></use></g></g></g></svg></mjx-container>, the quantifier should remain in the local type <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.331ex;" xmlns="http://www.w3.org/2000/svg" width="1.972ex" height="1.702ex" role="img" focusable="false" viewBox="0 -657 944.7 815.5" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-53-STX-I-1D43F" d="M541 195L509 195C447 79 426 38 299 38L252 38C193 38 178 48 187 92L278 540C293 612 325 627 397 627L402 657L118 657L112 627C198 627 203 607 189 541L103 124C86 44 70 30-7 30L-13 0L481 0Z"></path><path id="MJX-53-STX-I-1D450" d="M358 123C327 85 288 57 219 57C161 57 109 77 109 184C109 300 170 446 280 446C312 446 329 434 329 419C329 403 310 375 310 349C310 327 324 314 348 314C385 314 404 346 404 386C404 451 353 479 290 479C146 479 26 335 26 169C26 68 71-12 179-12C269-12 334 44 375 108Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="L_c"><g data-mml-node="msub" data-latex="L_c"><g data-mml-node="mi" data-latex="L"><use data-c="1D43F" xlink:href="#MJX-53-STX-I-1D43F"></use></g><g data-mml-node="mi" transform="translate(602,-150) scale(0.707)" data-latex="c"><use data-c="1D450" xlink:href="#MJX-53-STX-I-1D450"></use></g></g></g></g></svg></mjx-container>, which correctly captures the multicast.</li>
<li>when we project with respect to the set of participants, since our arbitrary participant is in <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="2.054ex" height="1.459ex" role="img" focusable="false" viewBox="0 -479 984 699" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-54-STX-I-1D45D" d="M275-220L282-193C202-193 181-166 181-143C181-129 183-111 185-101L209 15C229 3 268-11 300-11C456-11 572 119 572 307C572 423 510 479 432 479C380 479 338 451 290 397L285 397L299 474L280 474L137 459L137 434C137 434 154 436 169 436C195 436 206 427 206 407C206 400 205 394 204 388L77-220M272 311C300 370 340 423 404 423C434 423 484 402 484 307C484 131 415 32 308 32C266 32 238 49 221 64Z"></path><path id="MJX-54-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="ps"><g data-mml-node="mi" data-latex="p"><use data-c="1D45D" xlink:href="#MJX-54-STX-I-1D45D"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(598,0)"><use data-c="1D460" xlink:href="#MJX-54-STX-I-1D460"></use></g></g></g></svg></mjx-container>, it is involved in <em>only one</em> <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.027ex;" xmlns="http://www.w3.org/2000/svg" width="3.407ex" height="1.027ex" role="img" focusable="false" viewBox="0 -479 1632 492" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-55-STX-MI-72" d="M134 0L165 143C204 238 277 395 318 395C321 395 331 358 363 358C389 358 416 377 416 421C416 460 392 479 361 479C280 479 219 326 188 259L178 259L229 476L207 476L68 465L68 438C68 438 88 440 99 440C127 440 132 429 132 410C132 392 127 366 123 348L49 0Z"></path><path id="MJX-55-STX-MI-65" d="M179-12C243-12 312 17 372 107L354 122C315 74 269 57 219 57C152 57 116 88 116 189C116 193 116 198 116 202C233 211 401 264 401 389C401 467 337 479 294 479C132 479 32 307 32 163C32 75 69-12 179-12M120 232C135 327 198 448 273 448C303 448 315 429 315 393C315 298 231 239 120 232Z"></path><path id="MJX-55-STX-MI-63" d="M183-13C273-13 336 46 376 108L359 123C329 85 290 57 225 57C150 57 117 95 117 183C117 300 176 446 282 446C313 446 330 434 330 419C330 403 311 375 311 349C311 327 325 314 349 314C386 314 405 346 405 386C405 451 354 479 292 479C152 479 34 337 34 167C34 58 85-13 183-13Z"></path><path id="MJX-55-STX-MI-76" d="M160-8C295 76 417 218 417 385C417 424 403 479 353 479C329 479 308 465 308 435C308 388 358 385 358 324C358 232 279 126 185 50L183 50L185 85C181 210 171 349 156 477L132 477L1 461L1 430C14 432 23 433 33 433C66 433 74 421 79 374C96 244 105 143 111-8Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\m{recv}"><g data-mml-node="TeXAtom" data-latex="\mathit{recv}" data-mjx-texclass="ORD"><g data-mml-node="mi" data-latex="recv"><use data-c="72" xlink:href="#MJX-55-STX-MI-72"></use><use data-c="65" xlink:href="#MJX-55-STX-MI-65" transform="translate(383,0)"></use><use data-c="63" xlink:href="#MJX-55-STX-MI-63" transform="translate(795,0)"></use><use data-c="76" xlink:href="#MJX-55-STX-MI-76" transform="translate(1203,0)"></use></g></g></g></g></svg></mjx-container>, so the quantifier should disappear.</li>
</ul>
<p>Here is the projection function for <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.196ex" height="1.415ex" role="img" focusable="false" viewBox="0 -678 573 678" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-56-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-56-STX-N-2200"></use></g></g></g></svg></mjx-container>, which is now defined with respect to a role <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.031ex;" xmlns="http://www.w3.org/2000/svg" width="1.125ex" height="1.424ex" role="img" focusable="false" viewBox="0 -667 539 682" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-57-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="S"><g data-mml-node="mi" data-latex="S"><use data-c="1D446" xlink:href="#MJX-57-STX-I-1D446"></use></g></g></g></svg></mjx-container>.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -2.267ex;" xmlns="http://www.w3.org/2000/svg" width="39.426ex" height="5.578ex" role="img" focusable="false" viewBox="0 -1585.9 18885.1 2671.7" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-15-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-15-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path><path id="MJX-15-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-15-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path><path id="MJX-15-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path><path id="MJX-15-STX-I-1D43A" d="M684 309L444 309L438 278C514 278 522 264 507 192L486 83C442 53 398 33 337 33C215 33 163 110 163 258C164 488 297 627 450 627C553 627 610 573 606 440L639 440L685 669L657 669C641 647 631 633 616 633C590 633 565 670 459 670C259 670 62 523 62 234C62 106 121-11 313-11C419-11 486 15 567 57L597 202C609 264 622 278 679 278Z"></path><path id="MJX-15-STX-N-21BE" d="M451 434C375 495 279 579 232 678L227 678L227-160L295-160L295 475C295 493 299 502 309 502C317 502 324 496 334 487C365 456 398 437 432 413Z"></path><path id="MJX-15-STX-N-2261" d="M658 28L658 96L62 96L62 28M658 225L658 293L62 293L62 225M658 422L658 489L62 489L62 422Z"></path><path id="MJX-15-STX-V-2032" d="M80 28C142 144 270 399 292 457C297 470 302 494 302 506C302 556 269 578 232 578C201 578 171 567 154 515C136 455 71 167 45 41Z"></path><path id="MJX-15-STX-N-28" d="M45 270C45 47 150-112 311-196L327-170C181-71 127 66 127 270C127 474 181 611 327 710L311 736C150 652 45 493 45 270Z"></path><path id="MJX-15-STX-N-29" d="M312 270C312 493 207 652 46 736L30 710C176 611 230 474 230 270C230 66 176-71 30-170L46-196C207-112 312 47 312 270Z"></path><path id="MJX-15-STX-N-2260" d="M658 123L658 190L357 190L417 327L658 327L658 395L446 395L570 678L515 678L392 395L62 395L62 327L362 327L302 190L62 190L62 123L272 123L149-160L204-160L327 123Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\begin{array}{r@{\hspace{0.3em}}l}
\forall x:S \cdot G \upharpoonright S \equiv &amp; G \upharpoonright S \\
\forall x:S \cdot G \upharpoonright S' \equiv &amp; \forall x:S \cdot (G \upharpoonright S)\quad (S \neq S') \\
\end{array}
"><g data-mml-node="mtable" data-frame-styles="" data-latex-item="{array}" data-latex="\end{array}
"><g data-mml-node="mtr" transform="translate(0,710.9)"><g data-mml-node="mtd" transform="translate(879.3,0)"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-15-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(573,0)"><use data-c="1D465" xlink:href="#MJX-15-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1409.8,0)"><use data-c="3A" xlink:href="#MJX-15-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(1932.6,0)"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(2693.8,0)"><use data-c="22C5" xlink:href="#MJX-15-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(3209,0)"><use data-c="1D43A" xlink:href="#MJX-15-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(4183.8,0)"><use data-c="21BE" xlink:href="#MJX-15-STX-N-21BE"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(4984.6,0)"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\equiv" transform="translate(5801.3,0)"><use data-c="2261" xlink:href="#MJX-15-STX-N-2261"></use></g></g><g data-mml-node="mtd" transform="translate(7400.7,0)"><g data-mml-node="mspace" data-latex="\hspace{0.3em}"></g></g><g data-mml-node="mtd" transform="translate(7700.7,0)"><g data-mml-node="mi" data-latex="G"><use data-c="1D43A" xlink:href="#MJX-15-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(974.8,0)"><use data-c="21BE" xlink:href="#MJX-15-STX-N-21BE"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(1775.6,0)"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g></g></g><g data-mml-node="mtr" transform="translate(0,-710.9)"><g data-mml-node="mtd" transform="translate(500,0)"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-15-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(573,0)"><use data-c="1D465" xlink:href="#MJX-15-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1409.8,0)"><use data-c="3A" xlink:href="#MJX-15-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(1932.6,0)"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(2693.8,0)"><use data-c="22C5" xlink:href="#MJX-15-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(3209,0)"><use data-c="1D43A" xlink:href="#MJX-15-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(4183.8,0)"><use data-c="21BE" xlink:href="#MJX-15-STX-N-21BE"></use></g><g data-mml-node="msup" transform="translate(4984.6,0)"><g data-mml-node="mi" data-latex="S"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g><g data-mml-node="mo" transform="translate(622.3,363) scale(0.707)"><use data-c="2032" xlink:href="#MJX-15-STX-V-2032"></use></g></g><g data-mml-node="mo" data-latex="\equiv" transform="translate(6180.7,0)"><use data-c="2261" xlink:href="#MJX-15-STX-N-2261"></use></g></g><g data-mml-node="mtd" transform="translate(7400.7,0)"><g data-mml-node="mspace" data-latex="\hspace{0.3em}"></g></g><g data-mml-node="mtd" transform="translate(7700.7,0)"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-15-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(573,0)"><use data-c="1D465" xlink:href="#MJX-15-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1409.8,0)"><use data-c="3A" xlink:href="#MJX-15-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(1932.6,0)"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(2693.8,0)"><use data-c="22C5" xlink:href="#MJX-15-STX-N-22C5"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(3209,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-15-STX-N-28"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(3566,0)"><use data-c="1D43A" xlink:href="#MJX-15-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="\upharpoonright" transform="translate(4540.8,0)"><use data-c="21BE" xlink:href="#MJX-15-STX-N-21BE"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(5341.6,0)"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(5880.6,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-15-STX-N-29"></use></g><g data-mml-node="mspace" data-latex="\quad" transform="translate(6237.6,0)"></g><g data-mml-node="mo" data-latex="(" transform="translate(7237.6,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-15-STX-N-28"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(7594.6,0)"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\neq" transform="translate(8411.3,0)"><use data-c="2260" xlink:href="#MJX-15-STX-N-2260"></use></g><g data-mml-node="msup" transform="translate(9409.1,0)"><g data-mml-node="mi" data-latex="S"><use data-c="1D446" xlink:href="#MJX-15-STX-I-1D446"></use></g><g data-mml-node="mo" transform="translate(622.3,363) scale(0.707)" data-latex="'"><use data-c="2032" xlink:href="#MJX-15-STX-V-2032"></use></g></g><g data-mml-node="mo" data-latex=")" transform="translate(10327.4,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-15-STX-N-29"></use></g></g></g></g></g></g></svg></mjx-container></div><h2 id="self-sends">Self-sends</h2>
<p>For leader election, however, we quickly run into a problem.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="33.938ex" height="1.939ex" role="img" focusable="false" viewBox="0 -709 16256.1 929" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-16-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-16-STX-I-1D460" d="M378 479L359 479L333 452L330 452C318 459 281 479 228 479C137 479 92 425 92 357C92 295 139 260 180 221C218 185 254 150 254 96C254 44 222 23 176 23C108 23 82 69 72 156L47 156L21-11L43-11L67 16L70 16C84 10 122-11 185-11C298-11 337 55 337 113C337 177 301 214 258 260C214 307 163 343 163 385C163 414 184 449 236 449C295 449 328 400 331 323L355 323Z"></path><path id="MJX-16-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-16-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-16-STX-N-6D" d="M185 357C214 384 258 421 310 421C356 421 390 399 390 314L390 116C390 46 384 29 313 29L313 0L550 0L550 29C478 29 473 47 473 116L473 359C506 387 547 421 588 421C635 421 674 399 674 308L674 116C674 55 671 29 603 29L603 0L829 0L829 29C760 29 757 53 757 116L757 320C757 441 706 485 628 485C575 485 524 456 469 402L465 402C445 450 411 485 354 485C286 485 240 448 186 401L182 401L182 482L158 482L33 453L33 424C33 424 45 426 60 426C88 426 102 417 102 381L102 101C102 41 95 29 32 29L32 0L260 0L260 29C198 29 185 41 185 97Z"></path><path id="MJX-16-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-16-STX-I-1D45F" d="M161 259L212 476L190 476L51 465L51 438C51 438 71 440 82 440C110 440 115 429 115 410C115 392 110 366 106 348L32 0L117 0L147 140C163 180 253 395 301 395C304 395 314 358 346 358C372 358 399 377 399 421C399 460 375 479 343 479C263 479 203 326 171 259Z"></path><path id="MJX-16-STX-I-1D463" d="M200 476L53 465L53 437C53 437 83 440 99 440C117 440 123 426 123 409C123 389 116 365 113 354L93 278C82 236 71 183 71 135C71 58 100-9 200-9C380-9 479 206 479 358C479 429 448 479 403 479C382 479 365 464 365 437C365 393 426 369 426 299C426 206 368 55 231 55C170 55 153 99 153 151C153 196 166 249 175 284L222 476Z"></path><path id="MJX-16-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path><path id="MJX-16-STX-N-2192" d="M876 264C778 305 700 382 634 459L613 439C636 405 667 369 697 341C707 331 711 324 711 315C711 305 695 293 685 293L71 293L71 225L684 225C702 225 710 215 710 205C710 196 705 185 696 176C665 144 636 111 612 78L633 58C700 136 778 212 876 254Z"></path><path id="MJX-16-STX-I-1D445" d="M579 519C579 616 497 657 357 657L122 657L116 627C196 627 202 608 191 553L103 124C86 40 71 30-3 30L-9 0L267 0L272 30C186 30 175 41 192 124L229 302L250 302C286 302 299 296 314 268C345 207 366 165 441 0L593 0L599 30C553 30 529 41 507 81C425 236 405 287 369 312L369 317C456 332 579 378 579 519M292 615C315 617 325 618 351 618C450 618 480 569 480 515C480 387 387 342 267 338L236 339Z"></path><path id="MJX-16-STX-I-1D45E" d="M496 472L448 472L409 434L405 434C387 456 353 479 299 479C168 479 41 346 41 164C41 65 79-12 158-12C167-12 260-11 331 85L338 85L267-220L443-220L448-192C389-192 376-175 376-140C376-123 379-109 379-109M381 344C381 309 369 229 348 173C322 103 279 54 209 54C149 54 130 90 130 167C130 311 197 441 292 441C342 441 381 406 381 344Z"></path><path id="MJX-16-STX-I-1D462" d="M42 355C58 375 82 409 116 409C130 409 137 401 137 389C137 376 133 362 133 362L77 135C73 121 67 88 67 62C67 25 82-10 133-10C250-10 330 127 368 197L377 197C360 132 345 92 345 45C345 1 378-9 405-9C466-9 503 32 547 96L526 111C526 111 489 59 453 59C437 59 432 68 432 76C432 91 438 119 438 119L510 470L427 470L397 332C374 230 257 62 183 62C160 62 153 79 153 103C153 123 160 151 160 151L220 380C221 385 225 402 225 419C225 448 210 477 162 477C91 477 47 408 22 371Z"></path><path id="MJX-16-STX-I-1D461" d="M317 467L216 467L244 593L214 593C164 506 139 482 75 449L71 428L128 428L60 101C58 91 53 61 53 44C53 13 72-9 114-9C193-9 235 65 264 104L244 119C209 74 188 59 159 59C145 59 142 69 142 80C142 97 149 130 149 130L208 428L309 428Z"></path><path id="MJX-16-STX-I-1D449" d="M277 125L272 125L265 242L235 527C235 534 232 556 232 563C229 608 261 627 312 627L315 657L70 657L68 627C121 627 138 603 146 536L202-5L235-5L602 520C663 611 683 627 737 627L739 657L523 657L521 627C566 627 581 621 581 601C581 585 568 562 550 535Z"></path><path id="MJX-16-STX-I-1D45C" d="M460 297C460 416 378 479 293 479C136 479 26 330 26 175C26 77 73-10 189-10C348-10 460 129 460 297M369 307C369 133 299 25 200 25C134 25 117 93 117 166C117 345 199 445 285 445C345 445 369 381 369 307Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall s:\m{servers} \cdot s \to s: \m{RequestVote}
"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-16-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(573,0)"><use data-c="1D460" xlink:href="#MJX-16-STX-I-1D460"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1236.8,0)"><use data-c="3A" xlink:href="#MJX-16-STX-N-3A"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(1759.6,0)"><use data-c="5C" xlink:href="#MJX-16-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-16-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{s e r v e r s}" data-mjx-texclass="ORD" transform="translate(2996.6,0)"><g data-mml-node="mi" data-latex="s"><use data-c="1D460" xlink:href="#MJX-16-STX-I-1D460"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(386,0)"><use data-c="1D452" xlink:href="#MJX-16-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="r" transform="translate(810,0)"><use data-c="1D45F" xlink:href="#MJX-16-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="v" transform="translate(1222,0)"><use data-c="1D463" xlink:href="#MJX-16-STX-I-1D463"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(1726,0)"><use data-c="1D452" xlink:href="#MJX-16-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="r" transform="translate(2150,0)"><use data-c="1D45F" xlink:href="#MJX-16-STX-I-1D45F"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(2562,0)"><use data-c="1D460" xlink:href="#MJX-16-STX-I-1D460"></use></g></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(6166.8,0)"><use data-c="22C5" xlink:href="#MJX-16-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(6682,0)"><use data-c="1D460" xlink:href="#MJX-16-STX-I-1D460"></use></g><g data-mml-node="mo" data-latex="\to" transform="translate(7345.8,0)"><use data-c="2192" xlink:href="#MJX-16-STX-N-2192"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(8571.6,0)"><use data-c="1D460" xlink:href="#MJX-16-STX-I-1D460"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(9235.3,0)"><use data-c="3A" xlink:href="#MJX-16-STX-N-3A"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\m" transform="translate(9758.1,0)"><use data-c="5C" xlink:href="#MJX-16-STX-N-5C"></use><use data-c="6D" xlink:href="#MJX-16-STX-N-6D" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{R e q u e s t V o t e}" data-mjx-texclass="ORD" transform="translate(10995.1,0)"><g data-mml-node="mi" data-latex="R"><use data-c="1D445" xlink:href="#MJX-16-STX-I-1D445"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(620,0)"><use data-c="1D452" xlink:href="#MJX-16-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="q" transform="translate(1044,0)"><use data-c="1D45E" xlink:href="#MJX-16-STX-I-1D45E"></use></g><g data-mml-node="mi" data-latex="u" transform="translate(1561,0)"><use data-c="1D462" xlink:href="#MJX-16-STX-I-1D462"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(2126,0)"><use data-c="1D452" xlink:href="#MJX-16-STX-I-1D452"></use></g><g data-mml-node="mi" data-latex="s" transform="translate(2550,0)"><use data-c="1D460" xlink:href="#MJX-16-STX-I-1D460"></use></g><g data-mml-node="mi" data-latex="t" transform="translate(2936,0)"><use data-c="1D461" xlink:href="#MJX-16-STX-I-1D461"></use></g><g data-mml-node="mi" data-latex="V" transform="translate(3274,0)"><use data-c="1D449" xlink:href="#MJX-16-STX-I-1D449"></use></g><g data-mml-node="mi" data-latex="o" transform="translate(4013,0)"><use data-c="1D45C" xlink:href="#MJX-16-STX-I-1D45C"></use></g><g data-mml-node="mi" data-latex="t" transform="translate(4499,0)"><use data-c="1D461" xlink:href="#MJX-16-STX-I-1D461"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(4837,0)"><use data-c="1D452" xlink:href="#MJX-16-STX-I-1D452"></use></g></g></g></g></svg></mjx-container></div><p>The rules from before don't help us much - do we keep the quantifier or not?
Also, it seems that a server should both <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="3.933ex" height="1.497ex" role="img" focusable="false" viewBox="0 -705 1884 717" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-58-STX-MI-73" d="M164-11C277-11 316 55 316 113C316 177 280 214 237 260C193 307 142 343 142 385C142 414 163 449 215 449C274 449 307 400 310 323L334 323L357 479L338 479L312 452L309 452C297 459 260 479 207 479C116 479 71 425 71 357C71 295 118 260 159 221C197 185 233 150 233 96C233 44 201 23 155 23C87 23 61 69 51 156L26 156L0-11L22-11L46 16L49 16C63 10 101-11 164-11Z"></path><path id="MJX-58-STX-MI-65" d="M179-12C243-12 312 17 372 107L354 122C315 74 269 57 219 57C152 57 116 88 116 189C116 193 116 198 116 202C233 211 401 264 401 389C401 467 337 479 294 479C132 479 32 307 32 163C32 75 69-12 179-12M120 232C135 327 198 448 273 448C303 448 315 429 315 393C315 298 231 239 120 232Z"></path><path id="MJX-58-STX-MI-6E" d="M400-10C471-10 511 60 537 97L516 112C501 93 477 60 442 60C429 60 423 68 423 79C423 91 426 103 426 103L482 334C485 348 491 375 491 408C491 444 476 479 427 479C312 479 228 334 187 259L179 259L229 476L207 476L68 465L68 438C68 438 88 440 101 440C124 440 134 430 134 413C134 398 130 380 130 380L49 0L131 0L167 158C199 227 306 407 377 407C399 407 406 390 406 367C406 347 399 319 399 319L340 88C338 83 334 65 334 49C334 19 350-10 400-10Z"></path><path id="MJX-58-STX-MI-64" d="M161-12C220-12 270 25 318 85L326 85C324 73 321 54 321 42C321 11 341-10 380-10C446-10 483 48 517 97L497 112C483 93 456 60 424 60C411 60 405 65 405 79C405 92 410 121 410 121L521 705L499 705L362 694L362 668C362 668 380 670 392 670C422 670 427 656 427 639C427 625 424 607 424 607L392 439L389 439C366 464 330 479 286 479C147 479 35 330 35 159C35 37 92-12 161-12M196 54C153 54 123 80 123 171C123 301 185 441 281 441C330 441 364 404 364 347C364 318 355 254 336 176C320 114 262 54 196 54Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\m{send}"><g data-mml-node="TeXAtom" data-latex="\mathit{send}" data-mjx-texclass="ORD"><g data-mml-node="mi" data-latex="send"><use data-c="73" xlink:href="#MJX-58-STX-MI-73"></use><use data-c="65" xlink:href="#MJX-58-STX-MI-65" transform="translate(367,0)"></use><use data-c="6E" xlink:href="#MJX-58-STX-MI-6E" transform="translate(779,0)"></use><use data-c="64" xlink:href="#MJX-58-STX-MI-64" transform="translate(1343,0)"></use></g></g></g></g></svg></mjx-container> and <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.027ex;" xmlns="http://www.w3.org/2000/svg" width="3.407ex" height="1.027ex" role="img" focusable="false" viewBox="0 -479 1632 492" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-59-STX-MI-72" d="M134 0L165 143C204 238 277 395 318 395C321 395 331 358 363 358C389 358 416 377 416 421C416 460 392 479 361 479C280 479 219 326 188 259L178 259L229 476L207 476L68 465L68 438C68 438 88 440 99 440C127 440 132 429 132 410C132 392 127 366 123 348L49 0Z"></path><path id="MJX-59-STX-MI-65" d="M179-12C243-12 312 17 372 107L354 122C315 74 269 57 219 57C152 57 116 88 116 189C116 193 116 198 116 202C233 211 401 264 401 389C401 467 337 479 294 479C132 479 32 307 32 163C32 75 69-12 179-12M120 232C135 327 198 448 273 448C303 448 315 429 315 393C315 298 231 239 120 232Z"></path><path id="MJX-59-STX-MI-63" d="M183-13C273-13 336 46 376 108L359 123C329 85 290 57 225 57C150 57 117 95 117 183C117 300 176 446 282 446C313 446 330 434 330 419C330 403 311 375 311 349C311 327 325 314 349 314C386 314 405 346 405 386C405 451 354 479 292 479C152 479 34 337 34 167C34 58 85-13 183-13Z"></path><path id="MJX-59-STX-MI-76" d="M160-8C295 76 417 218 417 385C417 424 403 479 353 479C329 479 308 465 308 435C308 388 358 385 358 324C358 232 279 126 185 50L183 50L185 85C181 210 171 349 156 477L132 477L1 461L1 430C14 432 23 433 33 433C66 433 74 421 79 374C96 244 105 143 111-8Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\m{recv}"><g data-mml-node="TeXAtom" data-latex="\mathit{recv}" data-mjx-texclass="ORD"><g data-mml-node="mi" data-latex="recv"><use data-c="72" xlink:href="#MJX-59-STX-MI-72"></use><use data-c="65" xlink:href="#MJX-59-STX-MI-65" transform="translate(383,0)"></use><use data-c="63" xlink:href="#MJX-59-STX-MI-63" transform="translate(795,0)"></use><use data-c="76" xlink:href="#MJX-59-STX-MI-76" transform="translate(1203,0)"></use></g></g></g></g></svg></mjx-container>, but since there is only one role to project with respect to, we can only have one of those.</p>
<p>We call this sort of intra-role communication a <em>self-send</em>.</p>
<p>The paper <a href="http://mrg.doc.ic.ac.uk/publications/dynamic-multirole-session-types/dynamic-multirole-session-types.pdf">Dynamic Multirole Session Types (2013)</a> proposes an elegant solution, based on the following observation, or lemma: given an arbitrary party <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-60-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-60-STX-I-1D467"></use></g></g></g></svg></mjx-container> in role <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.031ex;" xmlns="http://www.w3.org/2000/svg" width="1.125ex" height="1.424ex" role="img" focusable="false" viewBox="0 -667 539 682" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-61-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="S"><g data-mml-node="mi" data-latex="S"><use data-c="1D446" xlink:href="#MJX-61-STX-I-1D446"></use></g></g></g></svg></mjx-container>, the following types are equivalent.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.476ex;" xmlns="http://www.w3.org/2000/svg" width="32.666ex" height="1.994ex" role="img" focusable="false" viewBox="0 -727 15647 955" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-17-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-17-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path><path id="MJX-17-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-17-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path><path id="MJX-17-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path><path id="MJX-17-STX-I-1D43A" d="M684 309L444 309L438 278C514 278 522 264 507 192L486 83C442 53 398 33 337 33C215 33 163 110 163 258C164 488 297 627 450 627C553 627 610 573 606 440L639 440L685 669L657 669C641 647 631 633 616 633C590 633 565 670 459 670C259 670 62 523 62 234C62 106 121-11 313-11C419-11 486 15 567 57L597 202C609 264 622 278 679 278Z"></path><path id="MJX-17-STX-N-A0" d=""></path><path id="MJX-17-STX-N-2261" d="M658 28L658 96L62 96L62 28M658 225L658 293L62 293L62 225M658 422L658 489L62 489L62 422Z"></path><path id="MJX-17-STX-N-5B" d="M299-196L299-164L169-164L169 704L299 704L299 736L90 736L90-196Z"></path><path id="MJX-17-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path><path id="MJX-17-STX-N-2F" d="M351 709L296 709L35-89L91-89Z"></path><path id="MJX-17-STX-N-5D" d="M259-196L259 736L50 736L50 704L180 704L180-164L50-164L50-196Z"></path><path id="MJX-17-STX-N-7C" d="M162-220L162 706L105 706L105-220Z"></path><path id="MJX-17-STX-N-2216" d="M489-228L121 727L47 727L415-228Z"></path><path id="MJX-17-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-17-STX-N-73" d="M39 164L42-8L63-8L84 15L86 15C112 4 142-11 200-11C290-11 368 25 368 119C368 193 319 230 228 278C144 321 111 346 111 385C111 430 146 451 192 451C253 451 290 422 312 327L339 327L336 480L316 480L299 459L298 459C273 471 243 485 193 485C107 485 40 441 40 359C40 285 81 250 172 204C265 158 284 139 284 92C284 45 248 26 198 26C124 26 86 61 65 164Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall x:S\cdot G\ \equiv\ G[z/x]\ ||\ \forall x:S\setminus \s{z}\cdot G
"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-17-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(573,0)"><use data-c="1D465" xlink:href="#MJX-17-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1409.8,0)"><use data-c="3A" xlink:href="#MJX-17-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(1932.6,0)"><use data-c="1D446" xlink:href="#MJX-17-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(2693.8,0)"><use data-c="22C5" xlink:href="#MJX-17-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(3209,0)"><use data-c="1D43A" xlink:href="#MJX-17-STX-I-1D43A"></use></g><g data-mml-node="mtext" transform="translate(3906,0)"><use data-c="A0" xlink:href="#MJX-17-STX-N-A0"></use></g><g data-mml-node="mo" data-latex="\equiv" transform="translate(4418.8,0)"><use data-c="2261" xlink:href="#MJX-17-STX-N-2261"></use></g><g data-mml-node="mtext" transform="translate(5416.6,0)"><use data-c="A0" xlink:href="#MJX-17-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(5651.6,0)"><use data-c="1D43A" xlink:href="#MJX-17-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="[" transform="translate(6348.6,0) translate(0 -20)"><use data-c="5B" xlink:href="#MJX-17-STX-N-5B"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(6697.6,0)"><use data-c="1D467" xlink:href="#MJX-17-STX-I-1D467"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(7190.6,0)"><g data-mml-node="mo" data-latex="/"><use data-c="2F" xlink:href="#MJX-17-STX-N-2F"></use></g></g><g data-mml-node="mi" data-latex="x" transform="translate(7576.6,0)"><use data-c="1D465" xlink:href="#MJX-17-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex="]" transform="translate(8135.6,0) translate(0 -20)"><use data-c="5D" xlink:href="#MJX-17-STX-N-5D"></use></g><g data-mml-node="mtext" transform="translate(8484.6,0)"><use data-c="A0" xlink:href="#MJX-17-STX-N-A0"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(8719.6,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-17-STX-N-7C"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(8986.6,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-17-STX-N-7C"></use></g><g data-mml-node="mtext" transform="translate(9253.6,0)"><use data-c="A0" xlink:href="#MJX-17-STX-N-A0"></use></g><g data-mml-node="mi" data-latex="\forall" transform="translate(9488.6,0)"><use data-c="2200" xlink:href="#MJX-17-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(10061.6,0)"><use data-c="1D465" xlink:href="#MJX-17-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(10898.3,0)"><use data-c="3A" xlink:href="#MJX-17-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(11421.1,0)"><use data-c="1D446" xlink:href="#MJX-17-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\setminus" transform="translate(12182.3,0)"><use data-c="2216" xlink:href="#MJX-17-STX-N-2216"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\s" transform="translate(12939.6,0)"><use data-c="5C" xlink:href="#MJX-17-STX-N-5C"></use><use data-c="73" xlink:href="#MJX-17-STX-N-73" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(13719.6,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-17-STX-I-1D467"></use></g></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(14434.8,0)"><use data-c="22C5" xlink:href="#MJX-17-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(14950,0)"><use data-c="1D43A" xlink:href="#MJX-17-STX-I-1D43A"></use></g></g></g></svg></mjx-container></div><p>That is, a universal quantification is just the parallel composition of &quot;what <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-62-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-62-STX-I-1D467"></use></g></g></g></svg></mjx-container> does&quot; and &quot;what everyone else does&quot;.</p>
<!-- It turns out that projecting the parallel composition instead solves the problem! -->
<!-- If we project the parallel composition instead, maybe that would solve the problem? -->
<p>The solution is thus to project the parallel composition instead,
with respect to <em>the party</em> <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-63-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-63-STX-I-1D467"></use></g></g></g></svg></mjx-container>, instead of &quot;an arbitrary party of role <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.031ex;" xmlns="http://www.w3.org/2000/svg" width="1.125ex" height="1.424ex" role="img" focusable="false" viewBox="0 -667 539 682" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-64-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="S"><g data-mml-node="mi" data-latex="S"><use data-c="1D446" xlink:href="#MJX-64-STX-I-1D446"></use></g></g></g></svg></mjx-container>&quot;.
Before, these were equivalent because we didn't need to be sensitive to which party in a role we were concerned with.</p>
<!-- distinguish different parties of the same role. -->
<!-- To get a feel for it, -->
<!-- let's first refine our language a bit. -->
<p>For explicitness, we'll refine <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.196ex" height="1.415ex" role="img" focusable="false" viewBox="0 -678 573 678" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-65-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-65-STX-N-2200"></use></g></g></g></svg></mjx-container> with a set of exclusions <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.885ex" height="1.025ex" role="img" focusable="false" viewBox="0 -479 424 491" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-66-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="e"><g data-mml-node="mi" data-latex="e"><use data-c="1D452" xlink:href="#MJX-66-STX-I-1D452"></use></g></g></g></svg></mjx-container>, which may be empty.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.476ex;" xmlns="http://www.w3.org/2000/svg" width="19.805ex" height="1.994ex" role="img" focusable="false" viewBox="0 -727 9486.6 955" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-18-STX-I-1D43A" d="M684 309L444 309L438 278C514 278 522 264 507 192L486 83C442 53 398 33 337 33C215 33 163 110 163 258C164 488 297 627 450 627C553 627 610 573 606 440L639 440L685 669L657 669C641 647 631 633 616 633C590 633 565 670 459 670C259 670 62 523 62 234C62 106 121-11 313-11C419-11 486 15 567 57L597 202C609 264 622 278 679 278Z"></path><path id="MJX-18-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-18-STX-N-3D" d="M658 327L658 395L62 395L62 327M658 123L658 190L62 190L62 123Z"></path><path id="MJX-18-STX-N-2026" d="M221 50C221 84 199 114 160 114C123 114 100 85 100 51C100 17 119-8 159-8C199-8 221 19 221 50M504 50C504 84 482 114 443 114C406 114 383 85 383 51C383 17 402-8 442-8C482-8 504 19 504 50M787 50C787 84 765 114 726 114C689 114 666 85 666 51C666 17 685-8 725-8C765-8 787 19 787 50Z"></path><path id="MJX-18-STX-N-2223" d="M170-194L170 706L102 706L102-194Z"></path><path id="MJX-18-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-18-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path><path id="MJX-18-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path><path id="MJX-18-STX-N-2216" d="M489-228L121 727L47 727L415-228Z"></path><path id="MJX-18-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-18-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="G ::= \ldots \mid \forall x:S\setminus e \cdot G
"><g data-mml-node="mi" data-latex="G"><use data-c="1D43A" xlink:href="#MJX-18-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="::=" transform="translate(974.8,0)"><g data-mml-node="text"><use data-c="3A" xlink:href="#MJX-18-STX-N-3A"></use></g><g data-mml-node="text" transform="translate(245,0)"><use data-c="3A" xlink:href="#MJX-18-STX-N-3A"></use></g><g data-mml-node="text" transform="translate(490,0)"><use data-c="3D" xlink:href="#MJX-18-STX-N-3D"></use></g></g><g data-mml-node="mo" data-latex="\ldots" transform="translate(2462.6,0)"><use data-c="2026" xlink:href="#MJX-18-STX-N-2026"></use></g><g data-mml-node="mo" data-latex="\mid" transform="translate(3627.3,0)"><use data-c="2223" xlink:href="#MJX-18-STX-N-2223"></use></g><g data-mml-node="mi" data-latex="\forall" transform="translate(4177.1,0)"><use data-c="2200" xlink:href="#MJX-18-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(4750.1,0)"><use data-c="1D465" xlink:href="#MJX-18-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(5586.9,0)"><use data-c="3A" xlink:href="#MJX-18-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(6109.7,0)"><use data-c="1D446" xlink:href="#MJX-18-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\setminus" transform="translate(6870.9,0)"><use data-c="2216" xlink:href="#MJX-18-STX-N-2216"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(7628.1,0)"><use data-c="1D452" xlink:href="#MJX-18-STX-I-1D452"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(8274.3,0)"><use data-c="22C5" xlink:href="#MJX-18-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(8789.6,0)"><use data-c="1D43A" xlink:href="#MJX-18-STX-I-1D43A"></use></g></g></g></svg></mjx-container></div><!-- There is a problem, however. This is certainly a valid MPST.
There may be seen as a tiny part of what does, where there is only a single set of nodes exchanging messages, assuming different roles dynamically (e.g. when a leader is elected, or on timeout).
-->
<p>There are two cases for <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.196ex" height="1.415ex" role="img" focusable="false" viewBox="0 -678 573 678" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-67-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-67-STX-N-2200"></use></g></g></g></svg></mjx-container>.</p>
<ol>
<li>
<p>If <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.522ex;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="2.088ex" role="img" focusable="false" viewBox="0 -750 493 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z \in S"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-68-STX-I-1D467"></use></g></g></g><defs><path id="MJX-68-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path><path id="MJX-68-STX-N-2208" d="M646 293L155 293C165 390 223 476 352 476L646 476L646 543L347 543C183 543 75 411 75 260C75 108 181-26 344-26L646-26L646 42L353 42C224 42 166 128 155 225L646 225Z"></path><path id="MJX-68-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path></defs></svg><mjx-break size="4"> </mjx-break><svg style="vertical-align: -0.522ex;" xmlns="http://www.w3.org/2000/svg" width="3.208ex" height="2.088ex" role="img" focusable="false" viewBox="0 -750 1536.8 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z \in S"><g data-mml-node="mo" data-latex="\in"><use data-c="2208" xlink:href="#MJX-68-STX-N-2208"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(997.8,0)"><use data-c="1D446" xlink:href="#MJX-68-STX-I-1D446"></use></g></g></g></svg></mjx-container> but <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.522ex;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="2.088ex" role="img" focusable="false" viewBox="0 -750 493 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z \notin e"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-69-STX-I-1D467"></use></g></g></g><defs><path id="MJX-69-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path><path id="MJX-69-STX-N-2209" d="M601 678L537 678L470 543L347 543C183 543 75 411 75 260C75 157 123 63 205 12L119-161L183-161L257-12C284-21 313-26 344-26L646-26L646 42L353 42C329 42 308 45 288 50L375 225L646 225L646 293L409 293L500 476L646 476L646 543L534 543M436 476L345 293L155 293C165 390 223 476 352 476M155 225L311 225L236 75C187 108 162 165 155 225Z"></path><path id="MJX-69-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path></defs></svg><mjx-break size="4"> </mjx-break><svg style="vertical-align: -0.522ex;" xmlns="http://www.w3.org/2000/svg" width="2.968ex" height="2.088ex" role="img" focusable="false" viewBox="0 -750 1421.8 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z \notin e"><g data-mml-node="mo" data-latex="\notin"><use data-c="2209" xlink:href="#MJX-69-STX-N-2209"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(997.8,0)"><use data-c="1D452" xlink:href="#MJX-69-STX-I-1D452"></use></g></g></g></svg></mjx-container>, i.e. it is possible that the quantifier involves <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-70-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-70-STX-I-1D467"></use></g></g></g></svg></mjx-container>, we first apply the lemma above, which separates the behavior of <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-71-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-71-STX-I-1D467"></use></g></g></g></svg></mjx-container> from that of everyone else in <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.031ex;" xmlns="http://www.w3.org/2000/svg" width="1.125ex" height="1.424ex" role="img" focusable="false" viewBox="0 -667 539 682" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-72-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="S"><g data-mml-node="mi" data-latex="S"><use data-c="1D446" xlink:href="#MJX-72-STX-I-1D446"></use></g></g></g></svg></mjx-container>, then recursively project on both sides.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.491ex;" xmlns="http://www.w3.org/2000/svg" width="73.722ex" height="2.008ex" role="img" focusable="false" viewBox="0 -727 35312.9 962" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-19-STX-N-28" d="M45 270C45 47 150-112 311-196L327-170C181-71 127 66 127 270C127 474 181 611 327 710L311 736C150 652 45 493 45 270Z"></path><path id="MJX-19-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-19-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path><path id="MJX-19-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-19-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path><path id="MJX-19-STX-N-2216" d="M489-228L121 727L47 727L415-228Z"></path><path id="MJX-19-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-19-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path><path id="MJX-19-STX-I-1D43A" d="M684 309L444 309L438 278C514 278 522 264 507 192L486 83C442 53 398 33 337 33C215 33 163 110 163 258C164 488 297 627 450 627C553 627 610 573 606 440L639 440L685 669L657 669C641 647 631 633 616 633C590 633 565 670 459 670C259 670 62 523 62 234C62 106 121-11 313-11C419-11 486 15 567 57L597 202C609 264 622 278 679 278Z"></path><path id="MJX-19-STX-N-29" d="M312 270C312 493 207 652 46 736L30 710C176 611 230 474 230 270C230 66 176-71 30-170L46-196C207-112 312 47 312 270Z"></path><path id="MJX-19-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-19-STX-N-6B" d="M539 0L539 29C497 29 481 32 433 87L257 285L307 326C420 425 438 443 503 443L503 473L287 473L287 443C325 443 336 438 336 425C336 409 322 397 318 393L189 265L183 265L183 706L156 706L26 671L26 644C26 644 46 646 60 646C93 646 100 637 100 595L100 95C100 40 90 29 30 29L30 0L257 0L257 29C194 29 183 40 183 91L183 243L189 243L346 65C351 60 357 50 357 41C357 32 347 29 318 29L318 0Z"></path><path id="MJX-19-STX-N-77" d="M762 473L589 473L589 444C626 444 645 438 645 419C645 402 640 388 639 383L560 159L540 101L534 101L516 159L435 378C430 393 426 407 426 419C426 435 438 444 476 444L476 473L267 473L267 444C311 444 326 436 350 371L361 341L289 159L268 101L261 101L243 159L156 380C150 395 145 406 145 419C145 435 158 444 198 444L198 473L-17 473L-17 444C27 444 42 433 68 371L218-6L264-6L381 285L385 285L491-6L539-6L688 378C708 430 723 444 762 444Z"></path><path id="MJX-19-STX-N-70" d="M176 482L151 482L25 454L25 425C25 425 44 427 57 427C90 427 95 414 95 376L95-119C95-175 85-192 22-192L22-220L275-220L275-191C197-191 178-178 178-113L178 18L182 18C211-2 245-10 283-10C403-10 502 91 502 261C502 392 433 485 334 485C275 485 227 454 179 398L176 398M178 356C197 381 240 417 293 417C367 417 411 359 411 233C411 94 358 29 288 29C232 29 197 74 178 95Z"></path><path id="MJX-19-STX-N-72" d="M183 482L159 482L35 452L35 424C35 424 46 426 66 426C102 426 102 408 102 372L102 97C102 41 95 29 29 29L29 0L279 0L279 29C204 29 185 39 185 102L185 330C209 370 241 412 264 412C276 412 296 378 329 378C351 378 373 394 373 432C373 466 354 488 315 488C267 488 237 453 186 379L183 379Z"></path><path id="MJX-19-STX-N-6F" d="M258 485C123 485 34 387 34 242C34 80 118-10 258-10C388-10 480 78 480 246C480 394 395 485 258 485M254 447C343 447 388 364 388 241C388 78 344 30 262 30C176 29 127 96 127 255C127 383 178 447 254 447Z"></path><path id="MJX-19-STX-N-6A" d="M183 482L156 482L26 454L26 424C26 424 40 427 56 427C92 427 100 417 100 373L100-32C100-139 96-191 47-191C1-191-3-121-51-121C-78-121-95-138-95-163C-95-207-55-235 11-235C129-235 183-160 183-2M139 673C103 673 81 647 81 617C81 586 105 560 139 560C174 560 198 586 198 617C198 647 174 673 139 673Z"></path><path id="MJX-19-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path><path id="MJX-19-STX-N-2261" d="M658 28L658 96L62 96L62 28M658 225L658 293L62 293L62 225M658 422L658 489L62 489L62 422Z"></path><path id="MJX-19-STX-N-5B" d="M299-196L299-164L169-164L169 704L299 704L299 736L90 736L90-196Z"></path><path id="MJX-19-STX-N-2F" d="M351 709L296 709L35-89L91-89Z"></path><path id="MJX-19-STX-N-5D" d="M259-196L259 736L50 736L50 704L180 704L180-164L50-164L50-196Z"></path><path id="MJX-19-STX-N-61" d="M308 62C314 18 324-5 368-5C419-5 443 16 476 64L461 80C447 65 433 55 414 55C393 55 384 63 384 104L384 331C384 435 343 485 234 485C125 485 58 431 58 375C58 342 80 327 100 327C128 327 144 342 144 373C144 433 154 454 211 454C271 454 301 421 301 334L301 290C215 263 38 237 38 105C38 41 80-7 157-7C221-7 257 21 304 62M301 92C267 64 231 48 198 48C155 48 126 79 126 129C126 207 210 234 301 257Z"></path><path id="MJX-19-STX-N-73" d="M39 164L42-8L63-8L84 15L86 15C112 4 142-11 200-11C290-11 368 25 368 119C368 193 319 230 228 278C144 321 111 346 111 385C111 430 146 451 192 451C253 451 290 422 312 327L339 327L336 480L316 480L299 459L298 459C273 471 243 485 193 485C107 485 40 441 40 359C40 285 81 250 172 204C265 158 284 139 284 92C284 45 248 26 198 26C124 26 86 61 65 164Z"></path><path id="MJX-19-STX-N-222A" d="M586 549L519 549L519 242C519 98 429 31 318 31C209 31 117 97 117 241L117 549L50 549L50 241C50 77 166-32 318-32C470-32 586 75 586 238Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="(\forall x:S\setminus e\cdot G) \kwproj z \equiv (G[z/x] \kwproj z) \kwpar (\forall x:S\setminus (\s{z}\cup e)\cdot (G \kwproj z))
"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-19-STX-N-28"></use></g><g data-mml-node="mi" data-latex="\forall" transform="translate(357,0)"><use data-c="2200" xlink:href="#MJX-19-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(930,0)"><use data-c="1D465" xlink:href="#MJX-19-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1766.8,0)"><use data-c="3A" xlink:href="#MJX-19-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(2289.6,0)"><use data-c="1D446" xlink:href="#MJX-19-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\setminus" transform="translate(3050.8,0)"><use data-c="2216" xlink:href="#MJX-19-STX-N-2216"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(3808,0)"><use data-c="1D452" xlink:href="#MJX-19-STX-I-1D452"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(4454.2,0)"><use data-c="22C5" xlink:href="#MJX-19-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(4969.4,0)"><use data-c="1D43A" xlink:href="#MJX-19-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(5666.4,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-19-STX-N-29"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(6023.4,0)"><use data-c="5C" xlink:href="#MJX-19-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-19-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-19-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-19-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-19-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-19-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-19-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(9393.4,0)"><use data-c="1D467" xlink:href="#MJX-19-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex="\equiv" transform="translate(10164.2,0)"><use data-c="2261" xlink:href="#MJX-19-STX-N-2261"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(11162,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-19-STX-N-28"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(11519,0)"><use data-c="1D43A" xlink:href="#MJX-19-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex="[" transform="translate(12216,0) translate(0 -20)"><use data-c="5B" xlink:href="#MJX-19-STX-N-5B"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(12565,0)"><use data-c="1D467" xlink:href="#MJX-19-STX-I-1D467"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(13058,0)"><g data-mml-node="mo" data-latex="/"><use data-c="2F" xlink:href="#MJX-19-STX-N-2F"></use></g></g><g data-mml-node="mi" data-latex="x" transform="translate(13444,0)"><use data-c="1D465" xlink:href="#MJX-19-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex="]" transform="translate(14003,0) translate(0 -20)"><use data-c="5D" xlink:href="#MJX-19-STX-N-5D"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(14352,0)"><use data-c="5C" xlink:href="#MJX-19-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-19-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-19-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-19-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-19-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-19-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-19-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(17722,0)"><use data-c="1D467" xlink:href="#MJX-19-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(18215,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-19-STX-N-29"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwpar" transform="translate(18572,0)"><use data-c="5C" xlink:href="#MJX-19-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-19-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-19-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-19-STX-N-70" transform="translate(1676,0)"></use><use data-c="61" xlink:href="#MJX-19-STX-N-61" transform="translate(2213,0)"></use><use data-c="72" xlink:href="#MJX-19-STX-N-72" transform="translate(2693,0)"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(21645,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-19-STX-N-28"></use></g><g data-mml-node="mi" data-latex="\forall" transform="translate(22002,0)"><use data-c="2200" xlink:href="#MJX-19-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(22575,0)"><use data-c="1D465" xlink:href="#MJX-19-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(23411.8,0)"><use data-c="3A" xlink:href="#MJX-19-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(23934.6,0)"><use data-c="1D446" xlink:href="#MJX-19-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\setminus" transform="translate(24695.8,0)"><use data-c="2216" xlink:href="#MJX-19-STX-N-2216"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(25453,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-19-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\s" transform="translate(25810,0)"><use data-c="5C" xlink:href="#MJX-19-STX-N-5C"></use><use data-c="73" xlink:href="#MJX-19-STX-N-73" transform="translate(385,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(26590,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-19-STX-I-1D467"></use></g></g><g data-mml-node="mo" data-latex="\cup" transform="translate(27305.2,0)"><use data-c="222A" xlink:href="#MJX-19-STX-N-222A"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(28163.4,0)"><use data-c="1D452" xlink:href="#MJX-19-STX-I-1D452"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(28587.4,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-19-STX-N-29"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(29166.7,0)"><use data-c="22C5" xlink:href="#MJX-19-STX-N-22C5"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(29681.9,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-19-STX-N-28"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(30038.9,0)"><use data-c="1D43A" xlink:href="#MJX-19-STX-I-1D43A"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(30735.9,0)"><use data-c="5C" xlink:href="#MJX-19-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-19-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-19-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-19-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-19-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-19-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-19-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(34105.9,0)"><use data-c="1D467" xlink:href="#MJX-19-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(34598.9,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-19-STX-N-29"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(34955.9,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-19-STX-N-29"></use></g></g></g></svg></mjx-container></div><p>Intuitively, the left arm is what <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-73-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-73-STX-I-1D467"></use></g></g></g></svg></mjx-container> does, while the right is <em>what other parties do to</em> <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-74-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-74-STX-I-1D467"></use></g></g></g></svg></mjx-container>.
<mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-75-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-75-STX-I-1D467"></use></g></g></g></svg></mjx-container> is involved in both sides of the <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.445ex;" xmlns="http://www.w3.org/2000/svg" width="1.115ex" height="1.933ex" role="img" focusable="false" viewBox="0 -713 534 926" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-76-STX-N-7C" d="M162-220L162 706L105 706L105-220Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\kwpar"><g data-mml-node="TeXAtom" data-latex="\mathrel{||}" data-mjx-texclass="REL"><g data-mml-node="mo" data-latex="|" transform="translate(0 7)"><use data-c="7C" xlink:href="#MJX-76-STX-N-7C"></use></g><g data-mml-node="mo" data-latex="|" transform="translate(267,0) translate(0 7)"><use data-c="7C" xlink:href="#MJX-76-STX-N-7C"></use></g></g></g></g></svg></mjx-container> precisely because members of the same set being quantified over are interacting.
If we were projecting a protocol without a self-send, the right arm would be unobservable and disappear, and we would the same result as the projection function from the previous section!</p>
</li>
<li>
<p>Otherwise (if <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.522ex;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="2.088ex" role="img" focusable="false" viewBox="0 -750 493 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z \notin S"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-77-STX-I-1D467"></use></g></g></g><defs><path id="MJX-77-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path><path id="MJX-77-STX-N-2209" d="M601 678L537 678L470 543L347 543C183 543 75 411 75 260C75 157 123 63 205 12L119-161L183-161L257-12C284-21 313-26 344-26L646-26L646 42L353 42C329 42 308 45 288 50L375 225L646 225L646 293L409 293L500 476L646 476L646 543L534 543M436 476L345 293L155 293C165 390 223 476 352 476M155 225L311 225L236 75C187 108 162 165 155 225Z"></path><path id="MJX-77-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path></defs></svg><mjx-break size="4"> </mjx-break><svg style="vertical-align: -0.522ex;" xmlns="http://www.w3.org/2000/svg" width="3.208ex" height="2.088ex" role="img" focusable="false" viewBox="0 -750 1536.8 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z \notin S"><g data-mml-node="mo" data-latex="\notin"><use data-c="2209" xlink:href="#MJX-77-STX-N-2209"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(997.8,0)"><use data-c="1D446" xlink:href="#MJX-77-STX-I-1D446"></use></g></g></g></svg></mjx-container> or <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.522ex;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="2.088ex" role="img" focusable="false" viewBox="0 -750 493 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z \in e"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-78-STX-I-1D467"></use></g></g></g><defs><path id="MJX-78-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path><path id="MJX-78-STX-N-2208" d="M646 293L155 293C165 390 223 476 352 476L646 476L646 543L347 543C183 543 75 411 75 260C75 108 181-26 344-26L646-26L646 42L353 42C224 42 166 128 155 225L646 225Z"></path><path id="MJX-78-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path></defs></svg><mjx-break size="4"> </mjx-break><svg style="vertical-align: -0.522ex;" xmlns="http://www.w3.org/2000/svg" width="2.968ex" height="2.088ex" role="img" focusable="false" viewBox="0 -750 1421.8 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z \in e"><g data-mml-node="mo" data-latex="\in"><use data-c="2208" xlink:href="#MJX-78-STX-N-2208"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(997.8,0)"><use data-c="1D452" xlink:href="#MJX-78-STX-I-1D452"></use></g></g></g></svg></mjx-container>), we keep the quantifier and project under it, for the same reason as before: <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-79-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-79-STX-I-1D467"></use></g></g></g></svg></mjx-container> may interact with the parties of role <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.031ex;" xmlns="http://www.w3.org/2000/svg" width="1.125ex" height="1.424ex" role="img" focusable="false" viewBox="0 -667 539 682" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-80-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="S"><g data-mml-node="mi" data-latex="S"><use data-c="1D446" xlink:href="#MJX-80-STX-I-1D446"></use></g></g></g></svg></mjx-container>.</p>
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -0.491ex;" xmlns="http://www.w3.org/2000/svg" width="43.942ex" height="2.008ex" role="img" focusable="false" viewBox="0 -727 21048.4 962" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-20-STX-N-28" d="M45 270C45 47 150-112 311-196L327-170C181-71 127 66 127 270C127 474 181 611 327 710L311 736C150 652 45 493 45 270Z"></path><path id="MJX-20-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path><path id="MJX-20-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path><path id="MJX-20-STX-N-3A" d="M183 50C183 84 161 114 122 114C85 114 62 85 62 51C62 17 81-8 121-8C161-8 183 19 183 50M183 414C183 448 161 478 122 478C85 478 62 449 62 415C62 381 81 356 121 356C161 356 183 383 183 414Z"></path><path id="MJX-20-STX-I-1D446" d="M505 473L539 667L515 667C505 646 493 638 476 638C454 638 431 667 344 667C232 667 126 604 126 488C126 396 181 358 247 316C248 316 248 315 249 315C319 270 384 229 383 144C382 67 321 30 238 30C137 29 103 63 94 201L66 201L24-15L54-15C58 5 73 18 87 18C110 18 140-12 244-12C368-12 476 64 476 191C476 287 405 327 332 375C267 415 211 456 211 517C211 589 260 631 343 631C444 631 472 583 476 473Z"></path><path id="MJX-20-STX-N-2216" d="M489-228L121 727L47 727L415-228Z"></path><path id="MJX-20-STX-I-1D452" d="M357 122C317 72 262 57 216 57C149 57 112 88 112 189L112 202C228 211 404 262 404 390C404 467 339 479 296 479C139 479 28 319 28 164C28 84 58-12 177-12C243-12 315 17 375 107M114 231C133 330 202 448 276 448C306 448 318 428 318 393C318 298 227 238 114 231Z"></path><path id="MJX-20-STX-N-22C5" d="M208 259C208 292 180 320 147 320C113 320 85 290 85 259C85 228 113 197 147 197C180 197 208 226 208 259Z"></path><path id="MJX-20-STX-I-1D43A" d="M684 309L444 309L438 278C514 278 522 264 507 192L486 83C442 53 398 33 337 33C215 33 163 110 163 258C164 488 297 627 450 627C553 627 610 573 606 440L639 440L685 669L657 669C641 647 631 633 616 633C590 633 565 670 459 670C259 670 62 523 62 234C62 106 121-11 313-11C419-11 486 15 567 57L597 202C609 264 622 278 679 278Z"></path><path id="MJX-20-STX-N-29" d="M312 270C312 493 207 652 46 736L30 710C176 611 230 474 230 270C230 66 176-71 30-170L46-196C207-112 312 47 312 270Z"></path><path id="MJX-20-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-20-STX-N-6B" d="M539 0L539 29C497 29 481 32 433 87L257 285L307 326C420 425 438 443 503 443L503 473L287 473L287 443C325 443 336 438 336 425C336 409 322 397 318 393L189 265L183 265L183 706L156 706L26 671L26 644C26 644 46 646 60 646C93 646 100 637 100 595L100 95C100 40 90 29 30 29L30 0L257 0L257 29C194 29 183 40 183 91L183 243L189 243L346 65C351 60 357 50 357 41C357 32 347 29 318 29L318 0Z"></path><path id="MJX-20-STX-N-77" d="M762 473L589 473L589 444C626 444 645 438 645 419C645 402 640 388 639 383L560 159L540 101L534 101L516 159L435 378C430 393 426 407 426 419C426 435 438 444 476 444L476 473L267 473L267 444C311 444 326 436 350 371L361 341L289 159L268 101L261 101L243 159L156 380C150 395 145 406 145 419C145 435 158 444 198 444L198 473L-17 473L-17 444C27 444 42 433 68 371L218-6L264-6L381 285L385 285L491-6L539-6L688 378C708 430 723 444 762 444Z"></path><path id="MJX-20-STX-N-70" d="M176 482L151 482L25 454L25 425C25 425 44 427 57 427C90 427 95 414 95 376L95-119C95-175 85-192 22-192L22-220L275-220L275-191C197-191 178-178 178-113L178 18L182 18C211-2 245-10 283-10C403-10 502 91 502 261C502 392 433 485 334 485C275 485 227 454 179 398L176 398M178 356C197 381 240 417 293 417C367 417 411 359 411 233C411 94 358 29 288 29C232 29 197 74 178 95Z"></path><path id="MJX-20-STX-N-72" d="M183 482L159 482L35 452L35 424C35 424 46 426 66 426C102 426 102 408 102 372L102 97C102 41 95 29 29 29L29 0L279 0L279 29C204 29 185 39 185 102L185 330C209 370 241 412 264 412C276 412 296 378 329 378C351 378 373 394 373 432C373 466 354 488 315 488C267 488 237 453 186 379L183 379Z"></path><path id="MJX-20-STX-N-6F" d="M258 485C123 485 34 387 34 242C34 80 118-10 258-10C388-10 480 78 480 246C480 394 395 485 258 485M254 447C343 447 388 364 388 241C388 78 344 30 262 30C176 29 127 96 127 255C127 383 178 447 254 447Z"></path><path id="MJX-20-STX-N-6A" d="M183 482L156 482L26 454L26 424C26 424 40 427 56 427C92 427 100 417 100 373L100-32C100-139 96-191 47-191C1-191-3-121-51-121C-78-121-95-138-95-163C-95-207-55-235 11-235C129-235 183-160 183-2M139 673C103 673 81 647 81 617C81 586 105 560 139 560C174 560 198 586 198 617C198 647 174 673 139 673Z"></path><path id="MJX-20-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path><path id="MJX-20-STX-N-2261" d="M658 28L658 96L62 96L62 28M658 225L658 293L62 293L62 225M658 422L658 489L62 489L62 422Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="(\forall x:S\setminus e\cdot G) \kwproj z \equiv \forall x:S\setminus e\cdot (G \kwproj z)
"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-20-STX-N-28"></use></g><g data-mml-node="mi" data-latex="\forall" transform="translate(357,0)"><use data-c="2200" xlink:href="#MJX-20-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(930,0)"><use data-c="1D465" xlink:href="#MJX-20-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(1766.8,0)"><use data-c="3A" xlink:href="#MJX-20-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(2289.6,0)"><use data-c="1D446" xlink:href="#MJX-20-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\setminus" transform="translate(3050.8,0)"><use data-c="2216" xlink:href="#MJX-20-STX-N-2216"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(3808,0)"><use data-c="1D452" xlink:href="#MJX-20-STX-I-1D452"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(4454.2,0)"><use data-c="22C5" xlink:href="#MJX-20-STX-N-22C5"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(4969.4,0)"><use data-c="1D43A" xlink:href="#MJX-20-STX-I-1D43A"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(5666.4,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-20-STX-N-29"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(6023.4,0)"><use data-c="5C" xlink:href="#MJX-20-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-20-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-20-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-20-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-20-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-20-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-20-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(9393.4,0)"><use data-c="1D467" xlink:href="#MJX-20-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex="\equiv" transform="translate(10164.2,0)"><use data-c="2261" xlink:href="#MJX-20-STX-N-2261"></use></g><g data-mml-node="mi" data-latex="\forall" transform="translate(11162,0)"><use data-c="2200" xlink:href="#MJX-20-STX-N-2200"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(11735,0)"><use data-c="1D465" xlink:href="#MJX-20-STX-I-1D465"></use></g><g data-mml-node="mo" data-latex=":" transform="translate(12571.8,0)"><use data-c="3A" xlink:href="#MJX-20-STX-N-3A"></use></g><g data-mml-node="mi" data-latex="S" transform="translate(13094.6,0)"><use data-c="1D446" xlink:href="#MJX-20-STX-I-1D446"></use></g><g data-mml-node="mo" data-latex="\setminus" transform="translate(13855.8,0)"><use data-c="2216" xlink:href="#MJX-20-STX-N-2216"></use></g><g data-mml-node="mi" data-latex="e" transform="translate(14613,0)"><use data-c="1D452" xlink:href="#MJX-20-STX-I-1D452"></use></g><g data-mml-node="mo" data-latex="\cdot" transform="translate(15259.2,0)"><use data-c="22C5" xlink:href="#MJX-20-STX-N-22C5"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(15774.4,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-20-STX-N-28"></use></g><g data-mml-node="mi" data-latex="G" transform="translate(16131.4,0)"><use data-c="1D43A" xlink:href="#MJX-20-STX-I-1D43A"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(16828.4,0)"><use data-c="5C" xlink:href="#MJX-20-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-20-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-20-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-20-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-20-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-20-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-20-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(20198.4,0)"><use data-c="1D467" xlink:href="#MJX-20-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(20691.4,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-20-STX-N-29"></use></g></g></g></svg></mjx-container></div></li>
</ol>
<p>The extension for <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0.121ex;" xmlns="http://www.w3.org/2000/svg" width="1.979ex" height="0.837ex" role="img" focusable="false" viewBox="0 -459 948 401" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-81-STX-N-2192" d="M876 264C778 305 700 382 634 459L613 439C636 405 667 369 697 341C707 331 711 324 711 315C711 305 695 293 685 293L71 293L71 225L684 225C702 225 710 215 710 205C710 196 705 185 696 176C665 144 636 111 612 78L633 58C700 136 778 212 876 254Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\to"><g data-mml-node="mo" data-latex="\to"><use data-c="2192" xlink:href="#MJX-81-STX-N-2192"></use></g></g></g></svg></mjx-container> is simple: since we are projecting with respect to <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-82-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-82-STX-I-1D467"></use></g></g></g></svg></mjx-container>, we can just check if an occurrence of communication involves <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-83-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-83-STX-I-1D467"></use></g></g></g></svg></mjx-container> directly. If it involves <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-84-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-84-STX-I-1D467"></use></g></g></g></svg></mjx-container> as both sender and receiver, we correspondingly produce both <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="3.933ex" height="1.497ex" role="img" focusable="false" viewBox="0 -705 1884 717" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-85-STX-MI-73" d="M164-11C277-11 316 55 316 113C316 177 280 214 237 260C193 307 142 343 142 385C142 414 163 449 215 449C274 449 307 400 310 323L334 323L357 479L338 479L312 452L309 452C297 459 260 479 207 479C116 479 71 425 71 357C71 295 118 260 159 221C197 185 233 150 233 96C233 44 201 23 155 23C87 23 61 69 51 156L26 156L0-11L22-11L46 16L49 16C63 10 101-11 164-11Z"></path><path id="MJX-85-STX-MI-65" d="M179-12C243-12 312 17 372 107L354 122C315 74 269 57 219 57C152 57 116 88 116 189C116 193 116 198 116 202C233 211 401 264 401 389C401 467 337 479 294 479C132 479 32 307 32 163C32 75 69-12 179-12M120 232C135 327 198 448 273 448C303 448 315 429 315 393C315 298 231 239 120 232Z"></path><path id="MJX-85-STX-MI-6E" d="M400-10C471-10 511 60 537 97L516 112C501 93 477 60 442 60C429 60 423 68 423 79C423 91 426 103 426 103L482 334C485 348 491 375 491 408C491 444 476 479 427 479C312 479 228 334 187 259L179 259L229 476L207 476L68 465L68 438C68 438 88 440 101 440C124 440 134 430 134 413C134 398 130 380 130 380L49 0L131 0L167 158C199 227 306 407 377 407C399 407 406 390 406 367C406 347 399 319 399 319L340 88C338 83 334 65 334 49C334 19 350-10 400-10Z"></path><path id="MJX-85-STX-MI-64" d="M161-12C220-12 270 25 318 85L326 85C324 73 321 54 321 42C321 11 341-10 380-10C446-10 483 48 517 97L497 112C483 93 456 60 424 60C411 60 405 65 405 79C405 92 410 121 410 121L521 705L499 705L362 694L362 668C362 668 380 670 392 670C422 670 427 656 427 639C427 625 424 607 424 607L392 439L389 439C366 464 330 479 286 479C147 479 35 330 35 159C35 37 92-12 161-12M196 54C153 54 123 80 123 171C123 301 185 441 281 441C330 441 364 404 364 347C364 318 355 254 336 176C320 114 262 54 196 54Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\m{send}"><g data-mml-node="TeXAtom" data-latex="\mathit{send}" data-mjx-texclass="ORD"><g data-mml-node="mi" data-latex="send"><use data-c="73" xlink:href="#MJX-85-STX-MI-73"></use><use data-c="65" xlink:href="#MJX-85-STX-MI-65" transform="translate(367,0)"></use><use data-c="6E" xlink:href="#MJX-85-STX-MI-6E" transform="translate(779,0)"></use><use data-c="64" xlink:href="#MJX-85-STX-MI-64" transform="translate(1343,0)"></use></g></g></g></g></svg></mjx-container> and <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.027ex;" xmlns="http://www.w3.org/2000/svg" width="3.407ex" height="1.027ex" role="img" focusable="false" viewBox="0 -479 1632 492" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-86-STX-MI-72" d="M134 0L165 143C204 238 277 395 318 395C321 395 331 358 363 358C389 358 416 377 416 421C416 460 392 479 361 479C280 479 219 326 188 259L178 259L229 476L207 476L68 465L68 438C68 438 88 440 99 440C127 440 132 429 132 410C132 392 127 366 123 348L49 0Z"></path><path id="MJX-86-STX-MI-65" d="M179-12C243-12 312 17 372 107L354 122C315 74 269 57 219 57C152 57 116 88 116 189C116 193 116 198 116 202C233 211 401 264 401 389C401 467 337 479 294 479C132 479 32 307 32 163C32 75 69-12 179-12M120 232C135 327 198 448 273 448C303 448 315 429 315 393C315 298 231 239 120 232Z"></path><path id="MJX-86-STX-MI-63" d="M183-13C273-13 336 46 376 108L359 123C329 85 290 57 225 57C150 57 117 95 117 183C117 300 176 446 282 446C313 446 330 434 330 419C330 403 311 375 311 349C311 327 325 314 349 314C386 314 405 346 405 386C405 451 354 479 292 479C152 479 34 337 34 167C34 58 85-13 183-13Z"></path><path id="MJX-86-STX-MI-76" d="M160-8C295 76 417 218 417 385C417 424 403 479 353 479C329 479 308 465 308 435C308 388 358 385 358 324C358 232 279 126 185 50L183 50L185 85C181 210 171 349 156 477L132 477L1 461L1 430C14 432 23 433 33 433C66 433 74 421 79 374C96 244 105 143 111-8Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\m{recv}"><g data-mml-node="TeXAtom" data-latex="\mathit{recv}" data-mjx-texclass="ORD"><g data-mml-node="mi" data-latex="recv"><use data-c="72" xlink:href="#MJX-86-STX-MI-72"></use><use data-c="65" xlink:href="#MJX-86-STX-MI-65" transform="translate(383,0)"></use><use data-c="63" xlink:href="#MJX-86-STX-MI-63" transform="translate(795,0)"></use><use data-c="76" xlink:href="#MJX-86-STX-MI-76" transform="translate(1203,0)"></use></g></g></g></g></svg></mjx-container>.</p>
<!-- <details> -->
<!-- <summary> -->
<p>Let's walk through an example.</p>
<!-- </summary> -->
<div style="display: flex; align-items: center;"><mjx-container class="MathJax" jax="SVG" overflow="overflow" display="true"><svg style="vertical-align: -18.319ex;" xmlns="http://www.w3.org/2000/svg" width="60.305ex" height="37.683ex" role="img" focusable="false" viewBox="0 -9275 28886 18050" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-21-STX-N-5C" d="M295-89L350-89L90 709L35 709Z"></path><path id="MJX-21-STX-N-67" d="M128 184C81 148 46 106 46 70C46 42 68 15 102-2L102-6C48-58 21-92 21-125C21-180 60-235 191-235C317-235 465-189 465-55C465 60 369 64 243 64C151 64 125 74 125 104C125 121 141 157 151 171C177 162 205 156 237 156C342 156 414 215 414 308C414 358 392 391 378 411L378 416L472 413L472 467L343 460C343 460 298 485 232 485C126 485 51 422 51 322C51 257 80 214 128 186M127-10C141-10 160-11 240-12C243-12 246-12 249-12C316-13 414-14 414-83C414-126 367-178 249-178C147-178 99-149 99-91C99-70 106-47 127-10M225 449C289 449 325 395 325 314C325 219 288 191 238 191C173 191 139 240 139 326C139 410 173 449 225 449Z"></path><path id="MJX-21-STX-N-61" d="M308 62C314 18 324-5 368-5C419-5 443 16 476 64L461 80C447 65 433 55 414 55C393 55 384 63 384 104L384 331C384 435 343 485 234 485C125 485 58 431 58 375C58 342 80 327 100 327C128 327 144 342 144 373C144 433 154 454 211 454C271 454 301 421 301 334L301 290C215 263 38 237 38 105C38 41 80-7 157-7C221-7 257 21 304 62M301 92C267 64 231 48 198 48C155 48 126 79 126 129C126 207 210 234 301 257Z"></path><path id="MJX-21-STX-N-6C" d="M260 29C188 29 183 43 183 101L183 706L158 706L26 671L26 644C26 644 41 646 58 646C83 646 100 644 100 603L100 101C100 45 96 29 30 29L30 0L260 0Z"></path><path id="MJX-21-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path><path id="MJX-21-STX-I-1D436" d="M567 145C500 84 430 54 352 54C220 54 158 125 158 259C158 479 288 627 442 627C541 627 599 573 594 440L627 440L674 669L645 669C629 647 619 633 603 633C578 633 552 670 451 670C248 670 60 515 60 234C60 102 124-11 305-11C431-11 517 46 585 126Z"></path><path id="MJX-21-STX-N-65" d="M415 143C383 101 352 65 271 65C191 65 115 128 115 266L431 266C426 406 354 485 245 485C128 485 34 405 34 238C34 77 127-10 247-10C350-10 398 53 434 129M114 303C122 396 162 445 230 445C301 445 334 377 337 303Z"></path><path id="MJX-21-STX-I-1D466" d="M251 325C239 405 232 437 210 475L195 475L53 464L53 435C53 435 74 437 88 437C149 437 154 388 161 343L220-9C192-52 112-165 93-165C71-165 60-112 22-112C-1-112-17-125-17-155C-17-192 18-220 60-220C136-220 197-112 289 15C341 87 398 173 452 268C484 322 496 367 496 406C496 449 470 482 433 482C404 482 389 464 389 443C389 405 438 377 438 351C438 327 429 303 405 264L290 79L284 79L275 179Z"></path><path id="MJX-21-STX-N-74" d="M293 90C268 62 255 49 223 49C184 49 175 73 175 144L175 426L288 426L288 468L175 468L176 610L150 610C114 525 84 478 37 449L37 426L92 426L92 116C92 26 121-10 188-10C252-10 273 20 312 74Z"></path><path id="MJX-21-STX-N-72" d="M183 482L159 482L35 452L35 424C35 424 46 426 66 426C102 426 102 408 102 372L102 97C102 41 95 29 29 29L29 0L279 0L279 29C204 29 185 39 185 102L185 330C209 370 241 412 264 412C276 412 296 378 329 378C351 378 373 394 373 432C373 466 354 488 315 488C267 488 237 453 186 379L183 379Z"></path><path id="MJX-21-STX-N-6E" d="M481 307C481 422 438 485 347 485C284 485 240 449 186 401L182 401L183 482L160 482L33 453L33 424C33 424 43 426 60 426C87 426 102 418 102 382L102 101C102 45 99 28 32 28L32 0L261 0L261 28C189 28 185 45 185 101L185 358C215 385 252 421 306 421C351 421 398 402 398 282L398 101C398 45 395 28 324 28L324 0L555 0L555 28C488 28 481 45 481 101Z"></path><path id="MJX-21-STX-N-73" d="M39 164L42-8L63-8L84 15L86 15C112 4 142-11 200-11C290-11 368 25 368 119C368 193 319 230 228 278C144 321 111 346 111 385C111 430 146 451 192 451C253 451 290 422 312 327L339 327L336 480L316 480L299 459L298 459C273 471 243 485 193 485C107 485 40 441 40 359C40 285 81 250 172 204C265 158 284 139 284 92C284 45 248 26 198 26C124 26 86 61 65 164Z"></path><path id="MJX-21-STX-N-6D" d="M185 357C214 384 258 421 310 421C356 421 390 399 390 314L390 116C390 46 384 29 313 29L313 0L550 0L550 29C478 29 473 47 473 116L473 359C506 387 547 421 588 421C635 421 674 399 674 308L674 116C674 55 671 29 603 29L603 0L829 0L829 29C760 29 757 53 757 116L757 320C757 441 706 485 628 485C575 485 524 456 469 402L465 402C445 450 411 485 354 485C286 485 240 448 186 401L182 401L182 482L158 482L33 453L33 424C33 424 45 426 60 426C88 426 102 417 102 381L102 101C102 41 95 29 32 29L32 0L260 0L260 29C198 29 185 41 185 97Z"></path><path id="MJX-21-STX-N-69" d="M257 28C190 28 185 43 185 101L185 482L159 482L33 454L33 425C33 425 44 427 58 427C87 427 102 423 102 380L102 101C102 44 99 28 32 28L32 0L257 0M145 673C110 673 88 647 88 617C88 586 111 560 145 560C180 560 202 586 202 617C202 647 180 673 145 673Z"></path><path id="MJX-21-STX-I-1D45A" d="M403 0L435 138C472 228 587 407 649 407C672 407 679 390 679 367C679 346 670 308 663 282L612 88C611 83 607 65 607 49C607 19 622-10 673-10C744-10 784 60 810 97L790 112C774 93 750 60 715 60C702 60 696 68 696 79C696 91 699 103 699 103L754 334C757 348 764 382 764 408C764 444 750 479 700 479C596 479 514 346 471 270L463 270L480 334C481 339 489 379 489 408C489 444 476 479 426 479C312 479 227 338 185 259L177 259L227 476L204 476L66 465L66 438C66 438 85 440 98 440C122 440 130 430 130 413C130 398 127 380 127 380L47 0L129 0L160 137C210 250 309 407 375 407C398 407 405 390 405 367C405 351 400 328 399 325C375 215 349 107 320 0Z"></path><path id="MJX-21-STX-N-6B" d="M539 0L539 29C497 29 481 32 433 87L257 285L307 326C420 425 438 443 503 443L503 473L287 473L287 443C325 443 336 438 336 425C336 409 322 397 318 393L189 265L183 265L183 706L156 706L26 671L26 644C26 644 46 646 60 646C93 646 100 637 100 595L100 95C100 40 90 29 30 29L30 0L257 0L257 29C194 29 183 40 183 91L183 243L189 243L346 65C351 60 357 50 357 41C357 32 347 29 318 29L318 0Z"></path><path id="MJX-21-STX-N-77" d="M762 473L589 473L589 444C626 444 645 438 645 419C645 402 640 388 639 383L560 159L540 101L534 101L516 159L435 378C430 393 426 407 426 419C426 435 438 444 476 444L476 473L267 473L267 444C311 444 326 436 350 371L361 341L289 159L268 101L261 101L243 159L156 380C150 395 145 406 145 419C145 435 158 444 198 444L198 473L-17 473L-17 444C27 444 42 433 68 371L218-6L264-6L381 285L385 285L491-6L539-6L688 378C708 430 723 444 762 444Z"></path><path id="MJX-21-STX-N-70" d="M176 482L151 482L25 454L25 425C25 425 44 427 57 427C90 427 95 414 95 376L95-119C95-175 85-192 22-192L22-220L275-220L275-191C197-191 178-178 178-113L178 18L182 18C211-2 245-10 283-10C403-10 502 91 502 261C502 392 433 485 334 485C275 485 227 454 179 398L176 398M178 356C197 381 240 417 293 417C367 417 411 359 411 233C411 94 358 29 288 29C232 29 197 74 178 95Z"></path><path id="MJX-21-STX-N-6F" d="M258 485C123 485 34 387 34 242C34 80 118-10 258-10C388-10 480 78 480 246C480 394 395 485 258 485M254 447C343 447 388 364 388 241C388 78 344 30 262 30C176 29 127 96 127 255C127 383 178 447 254 447Z"></path><path id="MJX-21-STX-N-6A" d="M183 482L156 482L26 454L26 424C26 424 40 427 56 427C92 427 100 417 100 373L100-32C100-139 96-191 47-191C1-191-3-121-51-121C-78-121-95-138-95-163C-95-207-55-235 11-235C129-235 183-160 183-2M139 673C103 673 81 647 81 617C81 586 105 560 139 560C174 560 198 586 198 617C198 647 174 673 139 673Z"></path><path id="MJX-21-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path><path id="MJX-21-STX-N-28" d="M45 270C45 47 150-112 311-196L327-170C181-71 127 66 127 270C127 474 181 611 327 710L311 736C150 652 45 493 45 270Z"></path><path id="MJX-21-STX-N-31" d="M426 0L426 28C334 28 297 46 297 95L297 639L268 639L74 584L74 551C105 561 156 567 176 567C201 567 209 553 209 518L209 95C209 45 174 28 80 28L80 0Z"></path><path id="MJX-21-STX-N-29" d="M312 270C312 493 207 652 46 736L30 710C176 611 230 474 230 270C230 66 176-71 30-170L46-196C207-112 312 47 312 270Z"></path><path id="MJX-21-STX-N-3D" d="M658 327L658 395L62 395L62 327M658 123L658 190L62 190L62 123Z"></path><path id="MJX-21-STX-N-32" d="M464 160L435 160C412 100 399 79 346 79L207 79L137 76L137 81L269 206C375 313 432 382 432 471C432 576 353 644 240 644C143 644 75 588 44 491L68 481C105 556 149 579 214 579C291 579 339 531 339 456C339 351 289 288 190 186L38 34L38 0L432 0Z"></path><path id="MJX-21-STX-N-33" d="M86 498C120 551 157 579 217 579C279 579 319 545 319 486C319 405 248 350 180 350L161 350L161 312L181 312C277 312 362 253 362 164C362 66 301 37 238 37C214 37 200 41 157 63C122 81 114 86 98 86C72 86 59 63 59 42C59 16 81-13 171-13C317-13 444 57 444 194C444 283 377 336 297 361L297 364C360 404 405 441 405 510C405 586 346 644 244 644C162 644 100 598 63 511Z"></path><path id="MJX-21-STX-N-64" d="M514 18L514 45L493 45C456 45 443 55 443 107L443 706L416 706L290 671L290 643C290 643 307 645 316 645C355 645 360 636 360 592L360 461C329 478 296 485 263 485C137 485 33 384 33 219C33 91 91-8 204-8C270-8 321 30 359 64L363 64L363-5L386-5M360 101C325 77 298 64 251 64C166 64 120 120 120 258C120 384 177 445 261 445C323 445 352 406 360 365Z"></path><path id="MJX-21-STX-N-34" d="M481 158L481 227L379 227L379 645L318 645L13 221L13 158L290 158L290 0L379 0L379 158M290 227L68 227L68 231L286 536L290 536Z"></path><path id="MJX-21-STX-N-2C" d="M70-132C110-114 194-80 194 33C194 88 167 121 117 121C77 121 55 94 55 62C55 33 71 8 110 8C121 8 130 10 141 14C141-67 95-91 58-107Z"></path><path id="MJX-21-STX-N-35" d="M417 549L433 630L159 630L97 369L109 354C123 354 128 354 154 352C292 345 370 304 370 179C370 75 307 37 236 37C172 37 139 86 99 86C74 86 59 66 59 43C59 6 97-13 174-13C333-13 443 65 443 219C443 376 320 423 202 432L155 435L182 549Z"></path><path id="MJX-21-STX-N-63" d="M408 148C363 90 329 65 264 65C161 65 112 151 112 273C112 388 161 448 242 448C328 448 295 334 369 334C397 334 411 350 411 379C411 437 353 485 259 485C115 485 33 383 33 226C33 87 108-10 233-10C340-10 389 53 427 134Z"></path><path id="MJX-21-STX-N-76" d="M498 473L323 473L323 444C359 444 380 439 380 417C380 401 374 389 373 384L287 158L266 97L260 97L241 157L156 380C150 394 146 406 146 419C146 435 159 444 198 444L198 473L-13 473L-13 444C30 444 42 433 68 371L217-6L265-6L423 378C443 430 459 444 498 444Z"></path><path id="MJX-21-STX-N-36" d="M415 646C200 637 45 498 45 257C45 110 110-12 259-12C385-12 457 67 457 203C457 334 386 413 277 413C225 413 188 391 147 351L140 352C165 498 277 596 417 617M370 195C370 68 330 23 263 23C176 23 135 112 135 236C135 323 189 355 247 355C330 355 370 285 370 195Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\begin{array}{rll}
&amp; \gall{x}{C}{\galle{y}{C}{x}{\gtransmit{x}{y}{m}}} \kwproj z &amp; (1) \\
= &amp; (\galle{y}{C}{z}{\gtransmit{z}{y}{m}} \kwproj z) &amp; (2) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{\galle{y}{C}{x}{\gtransmit{x}{y}{m}}} \kwproj z) \\
= &amp; (\galle{y}{C}{z}{(\gtransmit{z}{y}{m} \kwproj z)}) &amp; (3) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{(\galle{y}{C}{x}{\gtransmit{x}{y}{m}} \kwproj z)}) \\
= &amp; (\galle{y}{C}{z}{\lsend{y}{m}}) &amp; (4) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{(\gtransmit{x}{z}{m} \kwproj z} \\
&amp; \qquad \kwpar (\galle{y}{C}{z,x}{\gtransmit{x}{y}{m}} \kwproj z))) \\
= &amp; (\galle{y}{C}{z}{\lsend{y}{m}}) &amp; (5) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{(\lrecv{x}} \\
&amp; \qquad \kwpar (\galle{y}{C}{z,x}{(\gtransmit{x}{y}{m} \kwproj z)}))) \\
= &amp; (\galle{y}{C}{z}{\lsend{y}{m}}) &amp; (6) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{\lrecv{x}}) \\
\end{array}"><g data-mml-node="mtable" data-frame-styles="" data-latex-item="{array}" data-latex="\begin{array}{rll}
&amp; \gall{x}{C}{\galle{y}{C}{x}{\gtransmit{x}{y}{m}}} \kwproj z &amp; (1) \\
= &amp; (\galle{y}{C}{z}{\gtransmit{z}{y}{m}} \kwproj z) &amp; (2) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{\galle{y}{C}{x}{\gtransmit{x}{y}{m}}} \kwproj z) \\
= &amp; (\galle{y}{C}{z}{(\gtransmit{z}{y}{m} \kwproj z)}) &amp; (3) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{(\galle{y}{C}{x}{\gtransmit{x}{y}{m}} \kwproj z)}) \\
= &amp; (\galle{y}{C}{z}{\lsend{y}{m}}) &amp; (4) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{(\gtransmit{x}{z}{m} \kwproj z} \\
&amp; \qquad \kwpar (\galle{y}{C}{z,x}{\gtransmit{x}{y}{m}} \kwproj z))) \\
= &amp; (\galle{y}{C}{z}{\lsend{y}{m}}) &amp; (5) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{(\lrecv{x}} \\
&amp; \qquad \kwpar (\galle{y}{C}{z,x}{(\gtransmit{x}{y}{m} \kwproj z)}))) \\
= &amp; (\galle{y}{C}{z}{\lsend{y}{m}}) &amp; (6) \\
&amp; \quad \kwpar (\galle{x}{C}{z}{\lrecv{x}}) \\
\end{array}"><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,8400)"><g data-mml-node="mtd" transform="translate(1220,0)"></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gall"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(1915,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(2474,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\galle{y}{C}{x}{\gtransmit{x}{y}{m}}}" data-mjx-texclass="ORD" transform="translate(3148,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2379,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(2889,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(3563,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\gtransmit{x}{y}{m}}" data-mjx-texclass="ORD" transform="translate(4122,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gtransmit"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(869,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(1184,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(1564,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(2044,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(2620,0)"></use><use data-c="6D" xlink:href="#MJX-21-STX-N-6D" transform="translate(3015,0)"></use><use data-c="69" xlink:href="#MJX-21-STX-N-69" transform="translate(3867,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(4152,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(4467,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(5026,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(5536,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(13636,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-21-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-21-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(17006,0)"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="mtd" transform="translate(27177,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mn" data-latex="1" transform="translate(357,0)"><use data-c="31" xlink:href="#MJX-21-STX-N-31"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(852,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,7000)"><g data-mml-node="mtd" transform="translate(500,0)"><g data-mml-node="mo" data-latex="="><use data-c="3D" xlink:href="#MJX-21-STX-N-3D"></use></g></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2736,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(3246,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(3920,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\gtransmit{z}{y}{m}}" data-mjx-texclass="ORD" transform="translate(4413,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gtransmit"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(869,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(1184,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(1564,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(2044,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(2620,0)"></use><use data-c="6D" xlink:href="#MJX-21-STX-N-6D" transform="translate(3015,0)"></use><use data-c="69" xlink:href="#MJX-21-STX-N-69" transform="translate(3867,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(4152,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(4467,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(4960,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(5470,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(10713,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-21-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-21-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(14083,0)"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(14576,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g><g data-mml-node="mtd" transform="translate(27177,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mn" data-latex="2" transform="translate(357,0)"><use data-c="32" xlink:href="#MJX-21-STX-N-32"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(852,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,5600)"><g data-mml-node="mtd" transform="translate(1220,0)"></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mspace" data-latex="\quad"></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwpar" transform="translate(1000,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(2213,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2693,0)"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(4073,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(4430,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(6809,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(7368,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(8042,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\galle{y}{C}{x}{\gtransmit{x}{y}{m}}}" data-mjx-texclass="ORD" transform="translate(8535,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2379,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(2889,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(3563,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\gtransmit{x}{y}{m}}" data-mjx-texclass="ORD" transform="translate(4122,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gtransmit"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(869,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(1184,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(1564,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(2044,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(2620,0)"></use><use data-c="6D" xlink:href="#MJX-21-STX-N-6D" transform="translate(3015,0)"></use><use data-c="69" xlink:href="#MJX-21-STX-N-69" transform="translate(3867,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(4152,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(4467,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(5026,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(5536,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(19023,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-21-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-21-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(22393,0)"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(22886,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,4200)"><g data-mml-node="mtd" transform="translate(500,0)"><g data-mml-node="mo" data-latex="="><use data-c="3D" xlink:href="#MJX-21-STX-N-3D"></use></g></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2736,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(3246,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(3920,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{(\gtransmit{z}{y}{m}\kwproj z)}" data-mjx-texclass="ORD" transform="translate(4413,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gtransmit" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(869,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(1184,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(1564,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(2044,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(2620,0)"></use><use data-c="6D" xlink:href="#MJX-21-STX-N-6D" transform="translate(3015,0)"></use><use data-c="69" xlink:href="#MJX-21-STX-N-69" transform="translate(3867,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(4152,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(4824,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(5317,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(5827,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(6657,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-21-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-21-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(10027,0)"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(10520,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g><g data-mml-node="mo" data-latex=")" transform="translate(15290,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g><g data-mml-node="mtd" transform="translate(27177,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mn" data-latex="3" transform="translate(357,0)"><use data-c="33" xlink:href="#MJX-21-STX-N-33"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(852,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,2800)"><g data-mml-node="mtd" transform="translate(1220,0)"></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mspace" data-latex="\quad"></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwpar" transform="translate(1000,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(2213,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2693,0)"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(4073,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(4430,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(6809,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(7368,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(8042,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{(\galle{y}{C}{x}{\gtransmit{x}{y}{m}}\kwproj z)}" data-mjx-texclass="ORD" transform="translate(8535,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2736,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(3246,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(3920,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\gtransmit{x}{y}{m}}" data-mjx-texclass="ORD" transform="translate(4479,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gtransmit"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(869,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(1184,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(1564,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(2044,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(2620,0)"></use><use data-c="6D" xlink:href="#MJX-21-STX-N-6D" transform="translate(3015,0)"></use><use data-c="69" xlink:href="#MJX-21-STX-N-69" transform="translate(3867,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(4152,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(4467,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(5026,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(5536,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(10845,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-21-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-21-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(14215,0)"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(14708,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g><g data-mml-node="mo" data-latex=")" transform="translate(23600,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,1400)"><g data-mml-node="mtd" transform="translate(500,0)"><g data-mml-node="mo" data-latex="="><use data-c="3D" xlink:href="#MJX-21-STX-N-3D"></use></g></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2736,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(3246,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(3920,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\lsend{y}{m}}" data-mjx-texclass="ORD" transform="translate(4413,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\lsend"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(385,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(668,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1063,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(1527,0)"></use><use data-c="64" xlink:href="#MJX-21-STX-N-64" transform="translate(2103,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2642,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(3152,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g></g><g data-mml-node="mo" data-latex=")" transform="translate(8395,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g><g data-mml-node="mtd" transform="translate(27177,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mn" data-latex="4" transform="translate(357,0)"><use data-c="34" xlink:href="#MJX-21-STX-N-34"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(852,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,0)"><g data-mml-node="mtd" transform="translate(1220,0)"></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mspace" data-latex="\quad"></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwpar" transform="translate(1000,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(2213,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2693,0)"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(4073,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(4430,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(6809,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(7368,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(8042,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{(\gtransmit{x}{z}{m}\kwproj z}" data-mjx-texclass="ORD" transform="translate(8535,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gtransmit" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(869,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(1184,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(1564,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(2044,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(2620,0)"></use><use data-c="6D" xlink:href="#MJX-21-STX-N-6D" transform="translate(3015,0)"></use><use data-c="69" xlink:href="#MJX-21-STX-N-69" transform="translate(3867,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(4152,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(4824,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(5383,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(5876,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(6706,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-21-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-21-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(10076,0)"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,-1400)"><g data-mml-node="mtd" transform="translate(1220,0)"></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mspace" data-latex="\qquad"></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwpar" transform="translate(2000,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(2213,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2693,0)"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(5073,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(5430,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(7809,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(8319,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z,x}" data-mjx-texclass="ORD" transform="translate(8993,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex="," transform="translate(493,0)"><use data-c="2C" xlink:href="#MJX-21-STX-N-2C"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(904.7,0)"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\gtransmit{x}{y}{m}}" data-mjx-texclass="ORD" transform="translate(10456.7,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gtransmit"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(869,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(1184,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(1564,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(2044,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(2620,0)"></use><use data-c="6D" xlink:href="#MJX-21-STX-N-6D" transform="translate(3015,0)"></use><use data-c="69" xlink:href="#MJX-21-STX-N-69" transform="translate(3867,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(4152,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(4467,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(5026,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(5536,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(16822.7,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-21-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-21-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(20192.7,0)"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(20685.7,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(21042.7,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(21399.7,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,-2800)"><g data-mml-node="mtd" transform="translate(500,0)"><g data-mml-node="mo" data-latex="="><use data-c="3D" xlink:href="#MJX-21-STX-N-3D"></use></g></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2736,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(3246,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(3920,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\lsend{y}{m}}" data-mjx-texclass="ORD" transform="translate(4413,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\lsend"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(385,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(668,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1063,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(1527,0)"></use><use data-c="64" xlink:href="#MJX-21-STX-N-64" transform="translate(2103,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2642,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(3152,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g></g><g data-mml-node="mo" data-latex=")" transform="translate(8395,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g><g data-mml-node="mtd" transform="translate(27177,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mn" data-latex="5" transform="translate(357,0)"><use data-c="35" xlink:href="#MJX-21-STX-N-35"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(852,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,-4200)"><g data-mml-node="mtd" transform="translate(1220,0)"></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mspace" data-latex="\quad"></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwpar" transform="translate(1000,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(2213,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2693,0)"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(4073,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(4430,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(6809,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(7368,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(8042,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{(\lrecv{x}}" data-mjx-texclass="ORD" transform="translate(8535,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\lrecv" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(385,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(668,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1048,0)"></use><use data-c="63" xlink:href="#MJX-21-STX-N-63" transform="translate(1512,0)"></use><use data-c="76" xlink:href="#MJX-21-STX-N-76" transform="translate(1958,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(2796,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,-5600)"><g data-mml-node="mtd" transform="translate(1220,0)"></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mspace" data-latex="\qquad"></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwpar" transform="translate(2000,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(2213,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2693,0)"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(5073,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(5430,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(7809,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(8319,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z,x}" data-mjx-texclass="ORD" transform="translate(8993,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex="," transform="translate(493,0)"><use data-c="2C" xlink:href="#MJX-21-STX-N-2C"></use></g><g data-mml-node="mi" data-latex="x" transform="translate(904.7,0)"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{(\gtransmit{x}{y}{m}\kwproj z)}" data-mjx-texclass="ORD" transform="translate(10456.7,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\gtransmit" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(869,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(1184,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(1564,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(2044,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(2620,0)"></use><use data-c="6D" xlink:href="#MJX-21-STX-N-6D" transform="translate(3015,0)"></use><use data-c="69" xlink:href="#MJX-21-STX-N-69" transform="translate(3867,0)"></use><use data-c="74" xlink:href="#MJX-21-STX-N-74" transform="translate(4152,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(4824,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(5383,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(5893,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwproj" transform="translate(6723,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2213,0)"></use><use data-c="6F" xlink:href="#MJX-21-STX-N-6F" transform="translate(2593,0)"></use><use data-c="6A" xlink:href="#MJX-21-STX-N-6A" transform="translate(3107,0)"></use></g><g data-mml-node="mi" data-latex="z" transform="translate(10093,0)"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(10586,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g><g data-mml-node="mo" data-latex=")" transform="translate(21399.7,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(21756.7,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(22113.7,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,-7000)"><g data-mml-node="mtd" transform="translate(500,0)"><g data-mml-node="mo" data-latex="="><use data-c="3D" xlink:href="#MJX-21-STX-N-3D"></use></g></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(357,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2736,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(3246,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(3920,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\lsend{y}{m}}" data-mjx-texclass="ORD" transform="translate(4413,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\lsend"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(385,0)"></use><use data-c="73" xlink:href="#MJX-21-STX-N-73" transform="translate(668,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1063,0)"></use><use data-c="6E" xlink:href="#MJX-21-STX-N-6E" transform="translate(1527,0)"></use><use data-c="64" xlink:href="#MJX-21-STX-N-64" transform="translate(2103,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{y}" data-mjx-texclass="ORD" transform="translate(2642,0)"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-21-STX-I-1D466"></use></g></g><g data-mml-node="TeXAtom" data-latex="{m}" data-mjx-texclass="ORD" transform="translate(3152,0)"><g data-mml-node="mi" data-latex="m"><use data-c="1D45A" xlink:href="#MJX-21-STX-I-1D45A"></use></g></g></g><g data-mml-node="mo" data-latex=")" transform="translate(8395,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g><g data-mml-node="mtd" transform="translate(27177,0)"><g data-mml-node="mo" data-latex="(" transform="translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mn" data-latex="6" transform="translate(357,0)"><use data-c="36" xlink:href="#MJX-21-STX-N-36"></use></g><g data-mml-node="mo" data-latex=")" transform="translate(852,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g><g data-mml-node="mtr" data-latex-item="{rll}" data-latex="{rll}" transform="translate(0,-8400)"><g data-mml-node="mtd" transform="translate(1220,0)"></g><g data-mml-node="mtd" transform="translate(2220,0)"><g data-mml-node="mspace" data-latex="\quad"></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\kwpar" transform="translate(1000,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6B" xlink:href="#MJX-21-STX-N-6B" transform="translate(385,0)"></use><use data-c="77" xlink:href="#MJX-21-STX-N-77" transform="translate(927,0)"></use><use data-c="70" xlink:href="#MJX-21-STX-N-70" transform="translate(1676,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(2213,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(2693,0)"></use></g><g data-mml-node="mo" data-latex="(" transform="translate(4073,0) translate(0 -20)"><use data-c="28" xlink:href="#MJX-21-STX-N-28"></use></g><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\galle" transform="translate(4430,0)"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="67" xlink:href="#MJX-21-STX-N-67" transform="translate(385,0)"></use><use data-c="61" xlink:href="#MJX-21-STX-N-61" transform="translate(869,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1349,0)"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(1632,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1915,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(6809,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g><g data-mml-node="TeXAtom" data-latex="{C}" data-mjx-texclass="ORD" transform="translate(7368,0)"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-21-STX-I-1D436"></use></g></g><g data-mml-node="TeXAtom" data-latex="{z}" data-mjx-texclass="ORD" transform="translate(8042,0)"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-21-STX-I-1D467"></use></g></g><g data-mml-node="TeXAtom" data-latex="{\lrecv{x}}" data-mjx-texclass="ORD" transform="translate(8535,0)"><g data-mml-node="mtext" fill="red" stroke="red" data-latex="\lrecv"><use data-c="5C" xlink:href="#MJX-21-STX-N-5C"></use><use data-c="6C" xlink:href="#MJX-21-STX-N-6C" transform="translate(385,0)"></use><use data-c="72" xlink:href="#MJX-21-STX-N-72" transform="translate(668,0)"></use><use data-c="65" xlink:href="#MJX-21-STX-N-65" transform="translate(1048,0)"></use><use data-c="63" xlink:href="#MJX-21-STX-N-63" transform="translate(1512,0)"></use><use data-c="76" xlink:href="#MJX-21-STX-N-76" transform="translate(1958,0)"></use></g><g data-mml-node="TeXAtom" data-latex="{x}" data-mjx-texclass="ORD" transform="translate(2439,0)"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-21-STX-I-1D465"></use></g></g></g><g data-mml-node="mo" data-latex=")" transform="translate(11533,0) translate(0 -20)"><use data-c="29" xlink:href="#MJX-21-STX-N-29"></use></g></g></g></g></g></g></svg></mjx-container></div><p>The type in (1) represents a protocol where every party in role <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.407ex" height="1.422ex" role="img" focusable="false" viewBox="0 -670 674 681" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-87-STX-I-1D436" d="M567 145C500 84 430 54 352 54C220 54 158 125 158 259C158 479 288 627 442 627C541 627 599 573 594 440L627 440L674 669L645 669C629 647 619 633 603 633C578 633 552 670 451 670C248 670 60 515 60 234C60 102 124-11 305-11C431-11 517 46 585 126Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="C"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-87-STX-I-1D436"></use></g></g></g></svg></mjx-container> pings every other, sending a message and receiving a reply.</p>
<p>In (2), <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-88-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-88-STX-I-1D467"></use></g></g></g></svg></mjx-container> could be in <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.407ex" height="1.422ex" role="img" focusable="false" viewBox="0 -670 674 681" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-89-STX-I-1D436" d="M567 145C500 84 430 54 352 54C220 54 158 125 158 259C158 479 288 627 442 627C541 627 599 573 594 440L627 440L674 669L645 669C629 647 619 633 603 633C578 633 552 670 451 670C248 670 60 515 60 234C60 102 124-11 305-11C431-11 517 46 585 126Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="C"><g data-mml-node="mi" data-latex="C"><use data-c="1D436" xlink:href="#MJX-89-STX-I-1D436"></use></g></g></g></svg></mjx-container>, so we apply <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.196ex" height="1.415ex" role="img" focusable="false" viewBox="0 -678 573 678" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-90-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-90-STX-N-2200"></use></g></g></g></svg></mjx-container> case 1.
In the left arm, we push the projection inward until we are able to project the communication into a <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="3.933ex" height="1.497ex" role="img" focusable="false" viewBox="0 -705 1884 717" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-91-STX-MI-73" d="M164-11C277-11 316 55 316 113C316 177 280 214 237 260C193 307 142 343 142 385C142 414 163 449 215 449C274 449 307 400 310 323L334 323L357 479L338 479L312 452L309 452C297 459 260 479 207 479C116 479 71 425 71 357C71 295 118 260 159 221C197 185 233 150 233 96C233 44 201 23 155 23C87 23 61 69 51 156L26 156L0-11L22-11L46 16L49 16C63 10 101-11 164-11Z"></path><path id="MJX-91-STX-MI-65" d="M179-12C243-12 312 17 372 107L354 122C315 74 269 57 219 57C152 57 116 88 116 189C116 193 116 198 116 202C233 211 401 264 401 389C401 467 337 479 294 479C132 479 32 307 32 163C32 75 69-12 179-12M120 232C135 327 198 448 273 448C303 448 315 429 315 393C315 298 231 239 120 232Z"></path><path id="MJX-91-STX-MI-6E" d="M400-10C471-10 511 60 537 97L516 112C501 93 477 60 442 60C429 60 423 68 423 79C423 91 426 103 426 103L482 334C485 348 491 375 491 408C491 444 476 479 427 479C312 479 228 334 187 259L179 259L229 476L207 476L68 465L68 438C68 438 88 440 101 440C124 440 134 430 134 413C134 398 130 380 130 380L49 0L131 0L167 158C199 227 306 407 377 407C399 407 406 390 406 367C406 347 399 319 399 319L340 88C338 83 334 65 334 49C334 19 350-10 400-10Z"></path><path id="MJX-91-STX-MI-64" d="M161-12C220-12 270 25 318 85L326 85C324 73 321 54 321 42C321 11 341-10 380-10C446-10 483 48 517 97L497 112C483 93 456 60 424 60C411 60 405 65 405 79C405 92 410 121 410 121L521 705L499 705L362 694L362 668C362 668 380 670 392 670C422 670 427 656 427 639C427 625 424 607 424 607L392 439L389 439C366 464 330 479 286 479C147 479 35 330 35 159C35 37 92-12 161-12M196 54C153 54 123 80 123 171C123 301 185 441 281 441C330 441 364 404 364 347C364 318 355 254 336 176C320 114 262 54 196 54Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\m{send}"><g data-mml-node="TeXAtom" data-latex="\mathit{send}" data-mjx-texclass="ORD"><g data-mml-node="mi" data-latex="send"><use data-c="73" xlink:href="#MJX-91-STX-MI-73"></use><use data-c="65" xlink:href="#MJX-91-STX-MI-65" transform="translate(367,0)"></use><use data-c="6E" xlink:href="#MJX-91-STX-MI-6E" transform="translate(779,0)"></use><use data-c="64" xlink:href="#MJX-91-STX-MI-64" transform="translate(1343,0)"></use></g></g></g></g></svg></mjx-container> (4).
In the right arm, we add <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-92-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-92-STX-I-1D467"></use></g></g></g></svg></mjx-container> to the set of exclusions for the quantifier for <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-93-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="x"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-93-STX-I-1D465"></use></g></g></g></svg></mjx-container> and continue (3), but since <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-94-STX-I-1D466" d="M251 325C239 405 232 437 210 475L195 475L53 464L53 435C53 435 74 437 88 437C149 437 154 388 161 343L220-9C192-52 112-165 93-165C71-165 60-112 22-112C-1-112-17-125-17-155C-17-192 18-220 60-220C136-220 197-112 289 15C341 87 398 173 452 268C484 322 496 367 496 406C496 449 470 482 433 482C404 482 389 464 389 443C389 405 438 377 438 351C438 327 429 303 405 264L290 79L284 79L275 179Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="y"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-94-STX-I-1D466"></use></g></g></g></svg></mjx-container> may also be <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-95-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-95-STX-I-1D467"></use></g></g></g></svg></mjx-container>, we find ourselves having to apply case 1 again (4).
The left arm there projects to a receive (5), while the right is a no-op, as the communication between <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-96-STX-I-1D465" d="M315 298L312 298L300 349C286 403 267 447 243 475L228 475L89 459L89 429C89 429 104 432 120 432C186 433 203 406 230 322L258 231L186 126C147 70 129 69 125 69C108 69 84 82 62 82C38 82 23 60 23 40C23 15 38-9 81-9C141-9 174 38 206 90L270 194L274 194L299 93C313 28 335-10 381-10C449-10 491 58 520 102L499 118C472 82 453 62 427 62C396 62 376 99 348 191L327 259L388 356C405 384 419 398 442 398C455 398 478 388 494 388C521 388 540 411 540 435C540 463 528 479 490 479C431 479 391 430 364 382Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="x"><g data-mml-node="mi" data-latex="x"><use data-c="1D465" xlink:href="#MJX-96-STX-I-1D465"></use></g></g></g></svg></mjx-container> and <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-97-STX-I-1D466" d="M251 325C239 405 232 437 210 475L195 475L53 464L53 435C53 435 74 437 88 437C149 437 154 388 161 343L220-9C192-52 112-165 93-165C71-165 60-112 22-112C-1-112-17-125-17-155C-17-192 18-220 60-220C136-220 197-112 289 15C341 87 398 173 452 268C484 322 496 367 496 406C496 449 470 482 433 482C404 482 389 464 389 443C389 405 438 377 438 351C438 327 429 303 405 264L290 79L284 79L275 179Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="y"><g data-mml-node="mi" data-latex="y"><use data-c="1D466" xlink:href="#MJX-97-STX-I-1D466"></use></g></g></g></svg></mjx-container> is unobservable to <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.029ex" height="0.975ex" role="img" focusable="false" viewBox="0 -467 493 467" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-98-STX-I-1D467" d="M438 172L405 172C373 88 351 72 280 72L126 72L126 75L477 440L481 467L115 467L79 313L110 313C130 380 141 398 205 398L368 398L368 395L17 29L13 0L393 0Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="z"><g data-mml-node="mi" data-latex="z"><use data-c="1D467" xlink:href="#MJX-98-STX-I-1D467"></use></g></g></g></svg></mjx-container>.
This gives us the protocol at (6), which says exactly what we started out with.</p>
<!-- </details> -->
<!-- <br> -->
<!-- why reproduce this example? it fixes typos in the paper and comes with more explanation and detail, without skipping steps -->
<p>The title of the paper mentioned earlier should make sense now.
Protocols with self-sends and universal quantification are &quot;multirole&quot; because parties may act as both sender and receiver, and have two distinct classes of behaviors.</p>
<p>The paper uses &quot;dynamic&quot; in the sense that parties can join and leave, and the <mjx-container class="MathJax" jax="SVG" overflow="overflow"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.196ex" height="1.415ex" role="img" focusable="false" viewBox="0 -678 573 678" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-99-STX-N-2200" d="M571 678L498 678L423 474L150 474L75 678L2 678L253 0L320 0M400 412L286 105L173 412Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math" data-latex="\forall"><g data-mml-node="mi" data-latex="\forall"><use data-c="2200" xlink:href="#MJX-99-STX-N-2200"></use></g></g></g></svg></mjx-container> thus specifies the behavior of a possibly infinite set of parties. We aren't (yet?) concerned with this aspect.
We are, however, concerned with two different senses of &quot;dynamic&quot;, which is that roles may be <em>computed</em> in the course of the protocol, or dynamic changes; we return to this shortly.</p>
<h1 id="choreographic-pluscal">Choreographic PlusCal</h1>
<p>This is the heart of the projection function that is implemented in <a href="/cpluscal">Choreographic PlusCal</a>, a choreographic specification language I worked on.</p>
<p>It brings the succinctness and clarity of session types to a much more expressive specification language, one which scales up to real-world distributed protocols, which compute and branch, and are much closer to algorithms than sequences of transmissions.</p>
<p>The tradeoff is that Choreographic PlusCal models cannot be verified by simple type checking.
Even properties such as deadlock-freedom cannot be guaranteed with things like <code>await FALSE;</code> in the language.
Fortunately, being a PlusCal dialect, it has access to TLC, making it a very practical point in the design space.</p>

</div>

		</main>

		<footer>
			
		</footer>

		<!-- This page `/blog/selfsends/` was built on 2025-12-06T06:59:59.436Z -->
		
	</body>
</html>
