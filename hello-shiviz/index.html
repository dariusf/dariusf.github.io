<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://dariusf.github.io/images/favicon.png><title>A ShiViz Hello World | Darius Foo</title><meta name=title content="A ShiViz Hello World"><meta name=description content="ShiViz visualizes space-time diagrams, a succinct way to represent distributed system executions.
The examples on the site are all rather large, so here's a tiny Hello World example which illustrates the input format and basic ideas.
client1 &#34;message 1 sent&#34; {&#34;client1&#34;:1} client2 &#34;message 2 sent&#34; {&#34;client2&#34;:1} server &#34;message 2 received&#34; {&#34;server&#34;:1, &#34;client2&#34;:1} server &#34;message 1 sent received&#34; {&#34;client1&#34;:1, &#34;server&#34;:2, &#34;client2&#34;:1} server &#34;ack message 1&#34; {&#34;client1&#34;:1, &#34;server&#34;:3, &#34;client2&#34;:1} client1 &#34;internal&#34; {&#34;client1&#34;:2} client1 &#34;receive message 1 ack&#34; {&#34;client1&#34;:3, &#34;server&#34;:3, &#34;client2&#34;:1} (?"><meta name=keywords content><meta property="og:title" content="A ShiViz Hello World"><meta property="og:description" content="ShiViz visualizes space-time diagrams, a succinct way to represent distributed system executions.
The examples on the site are all rather large, so here's a tiny Hello World example which illustrates the input format and basic ideas.
client1 &#34;message 1 sent&#34; {&#34;client1&#34;:1} client2 &#34;message 2 sent&#34; {&#34;client2&#34;:1} server &#34;message 2 received&#34; {&#34;server&#34;:1, &#34;client2&#34;:1} server &#34;message 1 sent received&#34; {&#34;client1&#34;:1, &#34;server&#34;:2, &#34;client2&#34;:1} server &#34;ack message 1&#34; {&#34;client1&#34;:1, &#34;server&#34;:3, &#34;client2&#34;:1} client1 &#34;internal&#34; {&#34;client1&#34;:2} client1 &#34;receive message 1 ack&#34; {&#34;client1&#34;:3, &#34;server&#34;:3, &#34;client2&#34;:1} (?"><meta property="og:type" content="article"><meta property="og:url" content="https://dariusf.github.io/hello-shiviz/"><meta property="og:image" content="https://dariusf.github.io/images/favicon.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-02-14T13:25:48+08:00"><meta property="article:modified_time" content="2022-02-14T13:25:48+08:00"><meta property="og:site_name" content="Darius Foo"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dariusf.github.io/images/favicon.png"><meta name=twitter:title content="A ShiViz Hello World"><meta name=twitter:description content="ShiViz visualizes space-time diagrams, a succinct way to represent distributed system executions.
The examples on the site are all rather large, so here's a tiny Hello World example which illustrates the input format and basic ideas.
client1 &#34;message 1 sent&#34; {&#34;client1&#34;:1} client2 &#34;message 2 sent&#34; {&#34;client2&#34;:1} server &#34;message 2 received&#34; {&#34;server&#34;:1, &#34;client2&#34;:1} server &#34;message 1 sent received&#34; {&#34;client1&#34;:1, &#34;server&#34;:2, &#34;client2&#34;:1} server &#34;ack message 1&#34; {&#34;client1&#34;:1, &#34;server&#34;:3, &#34;client2&#34;:1} client1 &#34;internal&#34; {&#34;client1&#34;:2} client1 &#34;receive message 1 ack&#34; {&#34;client1&#34;:3, &#34;server&#34;:3, &#34;client2&#34;:1} (?"><meta itemprop=name content="A ShiViz Hello World"><meta itemprop=description content="ShiViz visualizes space-time diagrams, a succinct way to represent distributed system executions.
The examples on the site are all rather large, so here's a tiny Hello World example which illustrates the input format and basic ideas.
client1 &#34;message 1 sent&#34; {&#34;client1&#34;:1} client2 &#34;message 2 sent&#34; {&#34;client2&#34;:1} server &#34;message 2 received&#34; {&#34;server&#34;:1, &#34;client2&#34;:1} server &#34;message 1 sent received&#34; {&#34;client1&#34;:1, &#34;server&#34;:2, &#34;client2&#34;:1} server &#34;ack message 1&#34; {&#34;client1&#34;:1, &#34;server&#34;:3, &#34;client2&#34;:1} client1 &#34;internal&#34; {&#34;client1&#34;:2} client1 &#34;receive message 1 ack&#34; {&#34;client1&#34;:3, &#34;server&#34;:3, &#34;client2&#34;:1} (?"><meta itemprop=datePublished content="2022-02-14T13:25:48+08:00"><meta itemprop=dateModified content="2022-02-14T13:25:48+08:00"><meta itemprop=wordCount content="150"><meta itemprop=image content="https://dariusf.github.io/images/favicon.png"><meta itemprop=keywords content><meta name=referrer content="no-referrer-when-downgrade"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Nunito"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Fira+Code"><style>@media(prefers-color-scheme:light){:root{--bright-text-color:#222;--link-color:#3273dc;--link-visited-color:#6e4bbe;--background-color:#fff;--text-color:#444;--faded-text-color:#777;--blockquote-text-color:var(--bright-text-color);--faint-color:#ccc}.chroma{background-color:#fff}.chroma .x{}.chroma .err{color:#000}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .k{color:#a90d91}.chroma .kc{color:#a90d91}.chroma .kd{color:#a90d91}.chroma .kn{color:#a90d91}.chroma .kp{color:#a90d91}.chroma .kr{color:#a90d91}.chroma .kt{color:#a90d91}.chroma .n{color:#000}.chroma .na{color:#836c28}.chroma .nb{color:#a90d91}.chroma .bp{color:#5b269a}.chroma .nc{color:#3f6e75}.chroma .no{color:#000}.chroma .nd{color:#000}.chroma .ni{color:#000}.chroma .ne{color:#000}.chroma .nf{color:#000}.chroma .fm{color:#000}.chroma .nl{color:#000}.chroma .nn{color:#000}.chroma .nx{color:#000}.chroma .py{color:#000}.chroma .nt{color:#000}.chroma .nv{color:#000}.chroma .vc{color:#000}.chroma .vg{color:#000}.chroma .vi{color:#000}.chroma .vm{color:#000}.chroma .l{color:#1c01ce}.chroma .ld{color:#1c01ce}.chroma .s{color:#c41a16}.chroma .sa{color:#c41a16}.chroma .sb{color:#c41a16}.chroma .sc{color:#2300ce}.chroma .dl{color:#c41a16}.chroma .sd{color:#c41a16}.chroma .s2{color:#c41a16}.chroma .se{color:#c41a16}.chroma .sh{color:#c41a16}.chroma .si{color:#c41a16}.chroma .sx{color:#c41a16}.chroma .sr{color:#c41a16}.chroma .s1{color:#c41a16}.chroma .ss{color:#c41a16}.chroma .m{color:#1c01ce}.chroma .mb{color:#1c01ce}.chroma .mf{color:#1c01ce}.chroma .mh{color:#1c01ce}.chroma .mi{color:#1c01ce}.chroma .il{color:#1c01ce}.chroma .mo{color:#1c01ce}.chroma .o{color:#000}.chroma .ow{color:#000}.chroma .p{}.chroma .c{color:#177500}.chroma .ch{color:#177500}.chroma .cm{color:#177500}.chroma .c1{color:#177500}.chroma .cs{color:#177500}.chroma .cp{color:#633820}.chroma .cpf{color:#633820}.chroma .g{}.chroma .gd{}.chroma .ge{}.chroma .gr{}.chroma .gh{}.chroma .gi{}.chroma .go{}.chroma .gp{}.chroma .gs{}.chroma .gu{}.chroma .gt{}.chroma .gl{}.chroma .w{}}@media(prefers-color-scheme:dark){:root{--bright-text-color:#eee;--link-color:#8cc2dd;--link-visited-color:#b9a9e0;--background-color:#333;--text-color:#ddd;--faded-text-color:#aaa;--slightly-dimmer-text-color:#ccc;--blockquote-text-color:var(--slightly-dimmer-text-color);--faint-color:#666;color-scheme:dark}img.theme-affected{filter:invert(.8)}.chroma{color:#e2e4e5;background-color:#282a36}.chroma .x{}.chroma .err{color:#ff5c57}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .k{color:#ff6ac1}.chroma .kc{color:#ff6ac1}.chroma .kd{color:#ff5c57}.chroma .kn{color:#ff6ac1}.chroma .kp{color:#ff6ac1}.chroma .kr{color:#ff6ac1}.chroma .kt{color:#9aedfe}.chroma .n{}.chroma .na{color:#57c7ff}.chroma .nb{color:#ff5c57}.chroma .bp{}.chroma .nc{color:#f3f99d}.chroma .no{color:#ff9f43}.chroma .nd{color:#ff9f43}.chroma .ni{}.chroma .ne{}.chroma .nf{color:#57c7ff}.chroma .fm{}.chroma .nl{color:#ff5c57}.chroma .nn{}.chroma .nx{}.chroma .py{}.chroma .nt{color:#ff6ac1}.chroma .nv{color:#ff5c57}.chroma .vc{color:#ff5c57}.chroma .vg{color:#ff5c57}.chroma .vi{color:#ff5c57}.chroma .vm{}.chroma .l{}.chroma .ld{}.chroma .s{color:#5af78e}.chroma .sa{color:#5af78e}.chroma .sb{color:#5af78e}.chroma .sc{color:#5af78e}.chroma .dl{color:#5af78e}.chroma .sd{color:#5af78e}.chroma .s2{color:#5af78e}.chroma .se{color:#5af78e}.chroma .sh{color:#5af78e}.chroma .si{color:#5af78e}.chroma .sx{color:#5af78e}.chroma .sr{color:#5af78e}.chroma .s1{color:#5af78e}.chroma .ss{color:#5af78e}.chroma .m{color:#ff9f43}.chroma .mb{color:#ff9f43}.chroma .mf{color:#ff9f43}.chroma .mh{color:#ff9f43}.chroma .mi{color:#ff9f43}.chroma .il{color:#ff9f43}.chroma .mo{color:#ff9f43}.chroma .o{color:#ff6ac1}.chroma .ow{color:#ff6ac1}.chroma .p{}.chroma .c{color:#78787e}.chroma .ch{color:#78787e}.chroma .cm{color:#78787e}.chroma .c1{color:#78787e}.chroma .cs{color:#78787e}.chroma .cp{color:#78787e}.chroma .cpf{color:#78787e}.chroma .g{}.chroma .gd{color:#ff5c57}.chroma .ge{text-decoration:underline}.chroma .gr{color:#ff5c57}.chroma .gh{font-weight:700}.chroma .gi{font-weight:700}.chroma .go{color:#43454f}.chroma .gp{}.chroma .gs{font-style:italic}.chroma .gu{font-weight:700}.chroma .gt{}.chroma .gl{text-decoration:underline}.chroma .w{}}:root{--heading-font:Nunito, sans-serif;--text-font:Lato, sans-serif;--text-font-size:17px}*{margin:0}body{}main{margin-top:1em}p{margin-bottom:1em}html{overflow-x:hidden;margin-right:calc(-1 * (100vw - 100%))}body{font-family:var(--text-font);font-size:var(--text-font-size);margin:auto;padding:20px;max-width:720px;text-align:left;background-color:var(--background-color);color:var(--text-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5}h1,h2,h3,h4,h5,h6{font-family:var(--heading-font);color:var(--bright-text-color);margin-top:.5em}hr,ul{margin-bottom:.5em}.blog-timestamp{font-size:.9em}.blog-content{margin-top:1.5em}a{color:var(--link-color);text-decoration:none}.title{color:var(--text-color);font-size:1.5em;font-family:var(--heading-font)}nav a{margin-right:10px;font-family:var(--heading-font)}.menuactive{text-decoration:underline;text-decoration-thickness:2px}table{width:100%}img{max-width:100%;margin:auto;margin-bottom:.5em;display:block}code{padding:2px 5px;margin-bottom:1em;font-family:Fira Code,monospace;font-size:14px;line-height:1.4}pre code{display:block;padding:20px;white-space:pre-wrap}pre{border-radius:10px}p code{border-radius:4px;border:solid var(--faint-color)1px;margin:0 2px;padding:1px 2px}blockquote{border-left:1px solid #999;color:var(--blockquote-text-color);padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.deemphasize{color:var(--faded-text-color)}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px;text-align:right;margin-right:20px}ul.blog-posts li a:visited{color:var(--link-visited-color)}</style></head><body><header><a href=/><div class=title>Darius Foo</div></a><nav><a href=/blog/>Blog</a>
<a href=/research/>Research</a>
<a href=/work/>Work</a>
<a href=/other/>Other</a></nav></header><main><h1>A ShiViz Hello World</h1><div><time class=blog-timestamp datetime=2022-02-14 pubdate>14 Feb, 2022</time></div><div class=blog-content><p><a href=https://bestchai.bitbucket.io/shiviz/>ShiViz</a> visualizes <a href=https://www.cs.ubc.ca/~bestchai/papers/tosem20-shiviz.pdf>space-time diagrams</a>, a succinct way to represent distributed system executions.</p><p>The examples on the site are all rather large, so here's a tiny Hello World example which illustrates the input format and basic ideas.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>client1 &#34;message 1 sent&#34; {&#34;client1&#34;:1}
</span></span><span class=line><span class=cl>client2 &#34;message 2 sent&#34; {&#34;client2&#34;:1}
</span></span><span class=line><span class=cl>server &#34;message 2 received&#34; {&#34;server&#34;:1, &#34;client2&#34;:1}
</span></span><span class=line><span class=cl>server &#34;message 1 sent received&#34; {&#34;client1&#34;:1, &#34;server&#34;:2, &#34;client2&#34;:1}
</span></span><span class=line><span class=cl>server &#34;ack message 1&#34; {&#34;client1&#34;:1, &#34;server&#34;:3, &#34;client2&#34;:1}
</span></span><span class=line><span class=cl>client1 &#34;internal&#34; {&#34;client1&#34;:2}
</span></span><span class=line><span class=cl>client1 &#34;receive message 1 ack&#34; {&#34;client1&#34;:3, &#34;server&#34;:3, &#34;client2&#34;:1}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>(?&lt;host&gt;\w+) &#34;(?&lt;event&gt;.*)&#34; (?&lt;clock&gt;\{.*\})
</span></span></code></pre></div><p>ShiViz takes unstructured log text as input, plus a regular expression with named groups to extract fields. The three fields above are the ones minimally needed; others may be added as metadata. <code>clock</code> is in JSON format.</p><p>Notably, there is no notion of messages being sent, only vector clocks, which are sufficient to causally order events. The size of the vector also does not need to be known upfront.</p></div><p></p></main><footer></footer></body></html>